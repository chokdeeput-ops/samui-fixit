<!DOCTYPE html>
<html lang="th">
<head>
    <meta name="google-site-verification" content="HMw5E_690Sj04dR1faZDWS-Q-Y_kqnpHDAq94yX8krE" />
    <meta charset="UTF-8">
    <!-- Fix Layout: ‡∏õ‡πâ‡∏≠‡∏á‡∏Å‡∏±‡∏ô‡∏Å‡∏≤‡∏£‡∏ã‡∏π‡∏°‡πÅ‡∏•‡∏∞‡∏ö‡∏±‡∏á‡∏Ñ‡∏±‡∏ö‡∏Ñ‡∏ß‡∏≤‡∏°‡∏Å‡∏ß‡πâ‡∏≤‡∏á‡πÉ‡∏´‡πâ‡∏û‡∏≠‡∏î‡∏µ‡∏´‡∏ô‡πâ‡∏≤‡∏à‡∏≠ -->
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover">
    
    <!-- PWA Settings -->
    <meta name="theme-color" content="#0891b2"> <!-- ‡∏™‡∏µ‡∏Ç‡∏≠‡∏á Browser Toolbar -->
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="apple-mobile-web-app-title" content="Samui Fixit">
    
    <!-- SEO: Title & Meta Tags -->
    <title>Samui Fixit - Emergency 24/7, Construction & Villa Maintenance Koh Samui | ‡∏ä‡πà‡∏≤‡∏á‡∏â‡∏∏‡∏Å‡πÄ‡∏â‡∏¥‡∏ô‡πÅ‡∏•‡∏∞‡∏£‡∏±‡∏ö‡πÄ‡∏´‡∏°‡∏≤‡∏Å‡πà‡∏≠‡∏™‡∏£‡πâ‡∏≤‡∏á‡πÄ‡∏Å‡∏≤‡∏∞‡∏™‡∏°‡∏∏‡∏¢</title>
    <meta name="description" content="24/7 Emergency Service in Koh Samui. Water leak, power outage, AC breakdown. Immediate response with clear rates. Professional Construction, Renovation, and Home Maintenance. ‡∏ö‡∏£‡∏¥‡∏Å‡∏≤‡∏£‡∏ä‡πà‡∏≤‡∏á‡∏â‡∏∏‡∏Å‡πÄ‡∏â‡∏¥‡∏ô 24 ‡∏ä‡∏°. ‡∏£‡∏±‡∏ö‡πÄ‡∏´‡∏°‡∏≤‡∏Å‡πà‡∏≠‡∏™‡∏£‡πâ‡∏≤‡∏á ‡∏£‡∏µ‡πÇ‡∏ô‡πÄ‡∏ß‡∏ó ‡πÅ‡∏•‡∏∞‡∏î‡∏π‡πÅ‡∏•‡∏ß‡∏¥‡∏•‡∏•‡πà‡∏≤‡∏Ñ‡∏£‡∏ö‡∏ß‡∏á‡∏à‡∏£ ‡∏ö‡∏ô‡πÄ‡∏Å‡∏≤‡∏∞‡∏™‡∏°‡∏∏‡∏¢">
    <meta name="keywords" content="Emergency Plumber Samui, Emergency Electrician Samui, 24/7 Handyman Samui, Samui Construction, Koh Samui Builder, Villa Renovation Samui, ‡∏ä‡πà‡∏≤‡∏á‡∏â‡∏∏‡∏Å‡πÄ‡∏â‡∏¥‡∏ô‡∏™‡∏°‡∏∏‡∏¢, ‡∏ä‡πà‡∏≤‡∏á‡πÑ‡∏ü‡∏™‡∏°‡∏∏‡∏¢ 24 ‡∏ä‡∏°, ‡∏ä‡πà‡∏≤‡∏á‡∏õ‡∏£‡∏∞‡∏õ‡∏≤‡∏™‡∏°‡∏∏‡∏¢ 24 ‡∏ä‡∏°, ‡∏£‡∏±‡∏ö‡πÄ‡∏´‡∏°‡∏≤‡∏Å‡πà‡∏≠‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏™‡∏°‡∏∏‡∏¢, ‡∏î‡∏π‡πÅ‡∏•‡∏ß‡∏¥‡∏•‡∏•‡πà‡∏≤‡∏™‡∏°‡∏∏‡∏¢">
    <meta name="author" content="Samui Fixit Co., Ltd.">
    <meta name="robots" content="index, follow">

    <!-- Open Graph / Facebook / Line -->
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://samuifixit.com/">
    <meta property="og:title" content="Samui Fixit - 24/7 Emergency & Construction Services">
    <meta property="og:description" content="Urgent help for water leaks, power outages. Trusted Builder & Maintenance Service in Koh Samui. ‡∏ä‡πà‡∏≤‡∏á‡∏î‡πà‡∏ß‡∏ô 24 ‡∏ä‡∏°. ‡πÅ‡∏•‡∏∞‡∏£‡∏±‡∏ö‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏ö‡πâ‡∏≤‡∏ô">
    <meta property="og:image" content="https://laravel.pixelstrap.net/fixit/frontend/images/logo/dark-logo.png">
    
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Prompt:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    
    <!-- Icons (Phosphor Icons) -->
    <script src="https://unpkg.com/@phosphor-icons/web"></script>

    <!-- PWA Icon Link (Dynamic) -->
    <link rel="icon" type="image/png" href="https://laravel.pixelstrap.net/fixit/frontend/images/logo/dark-logo.png">
    <link rel="apple-touch-icon" href="https://laravel.pixelstrap.net/fixit/frontend/images/logo/dark-logo.png">

    <style>
        body { 
            font-family: 'Prompt', sans-serif; 
            overflow-x: hidden; 
            width: 100%;
        }
        .service-card:hover { transform: translateY(-5px); }
        .tropical-bg {
            background-image: url('https://www.transparenttextures.com/patterns/cubes.png');
            background-color: #0ea5e9;
        }
        html { scroll-behavior: smooth; }
        .pricing-table th { @apply bg-cyan-900 text-white py-3 px-4 text-left; }
        .pricing-table td { @apply border-b border-gray-100 py-3 px-4; }
        .pricing-table tr:hover { @apply bg-gray-50; }
        
        @keyframes pulse-red {
            0%, 100% { background-color: #ef4444; }
            50% { background-color: #dc2626; }
        }
        .urgent-pulse { animation: pulse-red 2s infinite; }

        @keyframes slideDown {
            from { opacity: 0; transform: translateY(-10px); }
            to { opacity: 1; transform: translateY(0); }
        }
        .animate-slide-down {
            animation: slideDown 0.3s ease-out forwards;
        }
    </style>
</head>
<body class="bg-blue-50 text-gray-800 flex flex-col min-h-screen w-full">

    <!-- Top Bar -->
    <div class="bg-cyan-900 text-cyan-100 text-xs py-2 w-full">
        <div class="max-w-6xl mx-auto px-4 flex justify-between items-center flex-wrap gap-2">
            <div class="flex items-center gap-4">
                <span class="flex items-center gap-1"><i class="ph-fill ph-phone"></i> <a href="tel:0638419593" class="hover:text-white transition">063-841-9593 (TH/EN)</a></span>
                <span class="flex items-center gap-1 hidden sm:flex"><i class="ph-fill ph-chat-circle-dots"></i> Line: samuifix</span>
            </div>
            <div class="flex items-center gap-3">
                <span class="hidden sm:inline">Follow us:</span>
                <a href="#" aria-label="Facebook" class="hover:text-white"><i class="ph-fill ph-facebook-logo"></i></a>
                <a href="#" aria-label="Instagram" class="hover:text-white"><i class="ph-fill ph-instagram-logo"></i></a>
                <a href="#" aria-label="Line" class="hover:text-white">
                    <svg viewBox="0 0 24 24" fill="currentColor" class="w-4 h-4">
                        <path d="M21.35 9.87c0-4.63-4.5-8.4-10-8.4s-10 3.77-10 8.4c0 4.15 3.68 7.62 9.07 8.3.35.08.83.2.95.5.12.3.08.76-.08 1.34-.18.63-1.12 2.8-1.24 3.3-.1.52.28.52.72.28.58-.33 9.49-5.55 10.62-8.36 1.13-1.6 1.96-3.4 1.96-5.36z"/>
                    </svg>
                </a>
                <!-- Admin Logout -->
                <a href="#" id="admin-logout" onclick="logoutAdmin()" class="hidden text-red-300 hover:text-white ml-2 border-l border-cyan-700 pl-2">
                    <i class="ph-bold ph-sign-out"></i> Logout
                </a>
            </div>
        </div>
    </div>

    <!-- Navbar -->
    <nav class="bg-white/90 backdrop-blur-md shadow-sm sticky top-0 z-50 w-full">
        <div class="max-w-6xl mx-auto px-4 py-3 flex justify-between items-center relative">
            <div class="flex items-center gap-2 flex-shrink-0">
                <div class="bg-cyan-500 text-white p-2 rounded-lg shadow-lg">
                    <i class="ph-fill ph-island text-xl"></i>
                </div>
                <div>
                    <h1 class="text-xl font-bold text-cyan-900 leading-none">Samui Fixit</h1>
                    <p class="text-[10px] text-cyan-600 font-medium">Construction & Services</p>
                </div>
            </div>

            <!-- Menu Desktop -->
            <div class="hidden md:flex items-center gap-6 text-sm font-medium text-gray-600">
                <a href="#" class="text-cyan-600 font-bold">Home</a>
                <a href="#emergency" class="text-red-600 font-bold hover:text-red-700 transition flex items-center gap-1"><i class="ph-bold ph-siren"></i> 24/7 Emergency</a>
                <a href="#services-list" class="hover:text-cyan-600 transition">Services</a>
                <a href="#blogs" class="hover:text-cyan-600 transition">Blogs</a>
                <a href="#construction-renovation" class="hover:text-cyan-600 transition">Construction</a>
                <a href="#pricing-guide" class="hover:text-cyan-600 transition">Rates</a>
                <a href="#contact-footer" class="hover:text-cyan-600 transition">Contact</a>
            </div>

            <div class="flex items-center gap-4">
                <div class="text-sm text-gray-500 flex items-center gap-2 bg-gray-50 px-3 py-1.5 rounded-full border border-gray-100 hidden sm:flex">
                    <span id="user-status" class="text-xs">Connecting...</span>
                    <div class="w-2 h-2 rounded-full bg-green-500 animate-pulse"></div>
                </div>
                <!-- PWA Install Button (Hidden by default) -->
                <button id="pwa-install-btn" class="hidden bg-cyan-100 text-cyan-700 p-2 rounded-lg hover:bg-cyan-200 transition" aria-label="Install App">
                    <i class="ph-bold ph-download-simple"></i>
                </button>
                <!-- Mobile Menu Button -->
                <button class="md:hidden text-2xl text-gray-600 p-1 focus:outline-none" aria-label="Menu" onclick="toggleMobileMenu()">
                    <i class="ph-bold ph-list"></i>
                </button>
            </div>
        </div>

        <!-- Mobile Menu Dropdown -->
        <div id="mobile-menu" class="hidden md:hidden bg-white border-t border-gray-100 absolute w-full shadow-lg left-0">
            <div class="flex flex-col p-4 gap-4 text-sm font-medium text-gray-600 animate-slide-down">
                <a href="#" class="text-cyan-600 font-bold flex items-center gap-2" onclick="toggleMobileMenu()"><i class="ph-bold ph-house"></i> Home</a>
                <a href="#emergency" class="text-red-600 font-bold flex items-center gap-2" onclick="toggleMobileMenu()"><i class="ph-bold ph-siren"></i> 24/7 Emergency</a>
                <a href="#services-list" class="hover:text-cyan-600 transition flex items-center gap-2" onclick="toggleMobileMenu()"><i class="ph-bold ph-wrench"></i> Services</a>
                <a href="#blogs" class="hover:text-cyan-600 transition flex items-center gap-2" onclick="toggleMobileMenu()"><i class="ph-bold ph-article"></i> Blogs</a>
                <a href="#construction-renovation" class="hover:text-cyan-600 transition flex items-center gap-2" onclick="toggleMobileMenu()"><i class="ph-bold ph-bricks"></i> Construction</a>
                <a href="#pricing-guide" class="hover:text-cyan-600 transition flex items-center gap-2" onclick="toggleMobileMenu()"><i class="ph-bold ph-currency-thb"></i> Rates</a>
                <a href="#contact-footer" class="hover:text-cyan-600 transition flex items-center gap-2" onclick="toggleMobileMenu()"><i class="ph-bold ph-phone"></i> Contact</a>
            </div>
        </div>
    </nav>

    <!-- Header -->
    <header class="bg-gradient-to-br from-cyan-500 to-blue-600 text-white py-12 md:py-20 px-4 text-center rounded-b-[2rem] md:rounded-b-[3rem] shadow-xl relative overflow-hidden w-full">
        <div class="absolute inset-0 opacity-10 bg-[url('https://www.transparenttextures.com/patterns/diagmonds-light.png')]"></div>
        <div class="absolute top-10 right-10 opacity-20 text-9xl"><i class="ph-fill ph-plant"></i></div>
        <div class="absolute bottom-10 left-10 opacity-20 text-8xl"><i class="ph-fill ph-sun"></i></div>

        <div class="relative z-10 max-w-2xl mx-auto">
            <h2 class="bg-white/20 px-3 py-1 rounded-full text-xs md:text-sm font-medium backdrop-blur-sm mb-4 inline-block shadow-sm">
                üèùÔ∏è Trusted Builder & Service in Samui
            </h2>
            <h2 class="text-3xl md:text-5xl font-bold mb-4 drop-shadow-md leading-tight">Construction & Villa Care<br>‡∏£‡∏±‡∏ö‡πÄ‡∏´‡∏°‡∏≤‡∏Å‡πà‡∏≠‡∏™‡∏£‡πâ‡∏≤‡∏á‡πÅ‡∏•‡∏∞‡∏î‡∏π‡πÅ‡∏•‡∏ß‡∏¥‡∏•‡∏•‡πà‡∏≤</h2>
            <p class="text-blue-50 mb-8 text-base md:text-lg max-w-md mx-auto md:max-w-none">From new builds to daily maintenance. Serving Flat & Mountain areas.<br class="hidden md:inline"> ‡∏ö‡∏£‡∏¥‡∏Å‡∏≤‡∏£‡∏Ñ‡∏£‡∏ö‡∏ß‡∏á‡∏à‡∏£‡∏ó‡∏±‡πâ‡∏á‡∏û‡∏∑‡πâ‡∏ô‡∏ó‡∏µ‡πà‡∏£‡∏≤‡∏ö‡πÅ‡∏•‡∏∞‡∏ö‡∏ô‡πÄ‡∏Ç‡∏≤ ‡∏î‡πâ‡∏ß‡∏¢‡∏ó‡∏µ‡∏°‡∏á‡∏≤‡∏ô‡∏Ñ‡∏∏‡∏ì‡∏†‡∏≤‡∏û</p>
            <div class="flex justify-center gap-3 md:gap-4 flex-wrap">
                <a href="#emergency" class="bg-red-500 text-white px-6 py-3 rounded-full font-bold shadow-lg hover:bg-red-600 transition transform hover:scale-105 inline-flex items-center gap-2 animate-bounce text-sm md:text-base">
                    <i class="ph-bold ph-phone-call"></i> Call Emergency
                </a>
                <a href="#construction-renovation" class="bg-white/10 backdrop-blur-md text-white border border-white/30 px-6 py-3 rounded-full font-bold hover:bg-white/20 transition inline-flex items-center gap-2 text-sm md:text-base">
                    <i class="ph-bold ph-house-line"></i> Construction
                </a>
            </div>
        </div>
    </header>

    <!-- Main Content -->
    <main class="max-w-6xl mx-auto px-4 py-8 md:py-12 -mt-10 relative z-20 flex-grow space-y-16 md:space-y-20 w-full">
        
        <!-- Emergency Section -->
        <section id="emergency" class="scroll-mt-28 bg-red-50 rounded-3xl shadow-xl overflow-hidden border-2 border-red-200 relative">
            <div class="absolute inset-0 opacity-5 bg-[url('https://www.transparenttextures.com/patterns/carbon-fibre.png')]"></div>
            <div class="relative z-10 p-6 md:p-10">
                <div class="text-center mb-8">
                    <span class="bg-red-600 text-white px-4 py-1.5 rounded-full text-xs md:text-sm font-bold uppercase tracking-wider urgent-pulse shadow-md inline-flex items-center gap-2">
                        <i class="ph-fill ph-siren text-lg"></i> Urgent Case Only
                    </span>
                    <h2 class="text-2xl md:text-4xl font-bold text-red-900 mt-4">24/7 Emergency Service Samui</h2>
                    <p class="text-red-700 mt-2 text-base md:text-lg">‡∏ö‡∏£‡∏¥‡∏Å‡∏≤‡∏£‡∏ä‡πà‡∏≤‡∏á‡∏â‡∏∏‡∏Å‡πÄ‡∏â‡∏¥‡∏ô 24 ‡∏ä‡∏°. (‡∏ô‡πâ‡∏≥‡∏£‡∏±‡πà‡∏ß, ‡πÑ‡∏ü‡∏î‡∏±‡∏ö, ‡πÅ‡∏≠‡∏£‡πå‡πÄ‡∏™‡∏µ‡∏¢)</p>
                </div>

                <div class="grid grid-cols-1 lg:grid-cols-2 gap-8 items-start">
                    <div class="bg-white rounded-2xl shadow-lg border border-red-100 overflow-hidden">
                        <div class="bg-gradient-to-r from-red-700 to-red-600 text-white p-5 text-center">
                            <h3 class="text-xl font-bold flex justify-center items-center gap-2"><i class="ph-bold ph-currency-circle-dollar"></i> Emergency Rates</h3>
                            <p class="text-red-100 text-sm opacity-90">‡∏£‡∏≤‡∏Ñ‡∏≤‡∏Ñ‡πà‡∏≤‡∏ö‡∏£‡∏¥‡∏Å‡∏≤‡∏£‡∏ô‡∏≠‡∏Å‡πÄ‡∏ß‡∏•‡∏≤‡πÅ‡∏•‡∏∞‡∏â‡∏∏‡∏Å‡πÄ‡∏â‡∏¥‡∏ô</p>
                        </div>
                        <div class="p-4 md:p-6 overflow-x-auto">
                            <table class="w-full text-sm min-w-[300px]">
                                <tr class="border-b border-red-50">
                                    <td class="py-4 font-semibold text-gray-700 flex flex-col"><span class="text-base">Day Time</span><span class="text-xs text-gray-400 font-normal">08:00 - 18:00</span></td>
                                    <td class="py-4 text-right"><span class="bg-green-100 text-green-700 px-2 py-1 rounded font-bold whitespace-nowrap">Start ‡∏ø1,000</span></td>
                                </tr>
                                <tr class="border-b border-red-50">
                                    <td class="py-4 font-semibold text-gray-700 flex flex-col"><span class="text-base">Evening</span><span class="text-xs text-gray-400 font-normal">18:00 - 24:00</span></td>
                                    <td class="py-4 text-right"><span class="bg-orange-100 text-orange-700 px-2 py-1 rounded font-bold whitespace-nowrap">Start ‡∏ø1,500</span></td>
                                </tr>
                                <tr class="border-b border-red-50">
                                    <td class="py-4 font-semibold text-gray-700 flex flex-col"><span class="text-base">Late Night</span><span class="text-xs text-gray-400 font-normal">00:00 - 08:00</span></td>
                                    <td class="py-4 text-right"><span class="bg-red-100 text-red-700 px-2 py-1 rounded font-bold whitespace-nowrap">Start ‡∏ø2,500</span></td>
                                </tr>
                                <tr>
                                    <td class="py-4 font-semibold text-gray-700 flex items-center gap-2"><i class="ph-fill ph-mountains text-gray-400"></i> Mountain Surcharge</td>
                                    <td class="py-4 text-right font-bold text-gray-600">+‡∏ø500</td>
                                </tr>
                            </table>
                            <div class="mt-4 p-3 bg-gray-50 rounded-lg border border-gray-100">
                                <p class="text-xs text-gray-500 leading-relaxed">
                                    <span class="font-bold text-gray-700">* Includes:</span> Transport & 1st hour labor (inspection/fix).<br>
                                    <span class="font-bold text-gray-700">* Excludes:</span> Spare parts & materials.<br>
                                    <span class="text-[10px]">* ‡∏£‡∏≤‡∏Ñ‡∏≤‡∏£‡∏ß‡∏°‡∏Ñ‡πà‡∏≤‡πÄ‡∏î‡∏¥‡∏ô‡∏ó‡∏≤‡∏á‡πÅ‡∏•‡∏∞‡∏Ñ‡πà‡∏≤‡πÅ‡∏£‡∏á 1 ‡∏ä‡∏°. ‡πÅ‡∏£‡∏Å (‡πÑ‡∏°‡πà‡∏£‡∏ß‡∏°‡∏Ñ‡πà‡∏≤‡∏≠‡∏∞‡πÑ‡∏´‡∏•‡πà)</span>
                                </p>
                            </div>
                        </div>
                    </div>

                    <div class="flex flex-col gap-6">
                        <div class="bg-yellow-50 border-l-4 border-yellow-400 p-6 rounded-r-xl shadow-sm">
                            <h4 class="text-lg font-bold text-yellow-800 flex items-center gap-2 mb-3">
                                <i class="ph-fill ph-warning-circle text-xl"></i> Before You Call / ‡πÄ‡∏á‡∏∑‡πà‡∏≠‡∏ô‡πÑ‡∏Ç
                            </h4>
                            <ul class="space-y-3 text-sm text-yellow-900">
                                <li class="flex gap-2 items-start">
                                    <i class="ph-bold ph-check-circle mt-0.5 text-yellow-600 shrink-0"></i>
                                    <span><strong>Advance Payment:</strong> 50% deposit required via transfer before dispatch. (‡∏ï‡πâ‡∏≠‡∏á‡πÇ‡∏≠‡∏ô‡∏°‡∏±‡∏î‡∏à‡∏≥ 50% ‡∏Å‡πà‡∏≠‡∏ô‡∏ó‡∏µ‡∏°‡∏á‡∏≤‡∏ô‡∏≠‡∏≠‡∏Å‡πÄ‡∏î‡∏¥‡∏ô‡∏ó‡∏≤‡∏á)</span>
                                </li>
                                <li class="flex gap-2 items-start">
                                    <i class="ph-bold ph-clock mt-0.5 text-yellow-600 shrink-0"></i>
                                    <span><strong>Arrival Time:</strong> 60-90 mins estimate depending on location. (‡∏£‡∏∞‡∏¢‡∏∞‡πÄ‡∏ß‡∏•‡∏≤‡πÄ‡∏î‡∏¥‡∏ô‡∏ó‡∏≤‡∏á 60-90 ‡∏ô‡∏≤‡∏ó‡∏µ)</span>
                                </li>
                                <li class="flex gap-2 items-start">
                                    <i class="ph-bold ph-wrench mt-0.5 text-yellow-600 shrink-0"></i>
                                    <span><strong>Scope:</strong> Emergency jobs focus on safety isolation or temporary fixes. Full repairs may be scheduled for the next day. (‡πÄ‡∏ô‡πâ‡∏ô‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç‡πÄ‡∏ö‡∏∑‡πâ‡∏≠‡∏á‡∏ï‡πâ‡∏ô‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡∏õ‡∏•‡∏≠‡∏î‡∏†‡∏±‡∏¢)</span>
                                </li>
                            </ul>
                        </div>

                        <a href="tel:0638419593" class="group bg-gradient-to-r from-red-600 to-red-500 hover:from-red-700 hover:to-red-600 text-white rounded-2xl p-6 shadow-lg shadow-red-500/30 flex items-center justify-between transition-all transform hover:-translate-y-1 ring-4 ring-red-100">
                            <div>
                                <p class="text-red-100 text-xs font-bold uppercase tracking-widest mb-1">Need Help Now?</p>
                                <h3 class="text-3xl md:text-4xl font-bold flex items-center gap-2">063-841-9593</h3>
                                <p class="text-xs text-white/90 mt-1 font-medium">Click to Call (‡∏Å‡∏î‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÇ‡∏ó‡∏£‡∏ó‡∏±‡∏ô‡∏ó‡∏µ)</p>
                            </div>
                            <div class="bg-white/20 p-4 rounded-full group-hover:scale-110 transition-transform animate-pulse">
                                <i class="ph-fill ph-phone-outgoing text-3xl"></i>
                            </div>
                        </a>
                    </div>
                </div>
            </div>
        </section>
        
        <!-- Construction & Renovation -->
        <div id="construction-renovation" class="scroll-mt-28">
             <h3 class="text-2xl font-bold text-gray-800 mb-6 flex items-center gap-2">
                <i class="ph-fill ph-bricks text-orange-500"></i> Construction & Renovation (‡∏Å‡πà‡∏≠‡∏™‡∏£‡πâ‡∏≤‡∏á‡πÅ‡∏•‡∏∞‡∏£‡∏µ‡πÇ‡∏ô‡πÄ‡∏ß‡∏ó)
            </h3>
            <div class="grid grid-cols-1 sm:grid-cols-3 gap-6">
                <!-- Service Items -->
                <article class="service-card bg-white p-6 rounded-2xl shadow-lg border-l-4 border-orange-500 transition-all cursor-pointer group" onclick="openBookingModal('construction', 'Contact for Quote')">
                    <div class="w-14 h-14 bg-orange-100 text-orange-600 rounded-2xl flex items-center justify-center mb-4 text-3xl group-hover:bg-orange-600 group-hover:text-white transition">
                        <i class="ph-fill ph-house"></i>
                    </div>
                    <h4 class="text-lg font-bold mb-1 text-gray-800">Construction (‡∏£‡∏±‡∏ö‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏ö‡πâ‡∏≤‡∏ô)</h4>
                    <p class="text-sm text-gray-500 mb-4">New Villa builds, Pool construction. Structural work. ‡∏£‡∏±‡∏ö‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏ß‡∏¥‡∏•‡∏•‡πà‡∏≤ ‡∏™‡∏£‡∏∞‡∏ß‡πà‡∏≤‡∏¢‡∏ô‡πâ‡∏≥</p>
                    <div class="flex justify-between items-center border-t pt-4 border-gray-100">
                        <span class="text-gray-500 text-xs font-bold">Start ‡∏ø20,000/sqm</span>
                        <button class="text-sm bg-orange-50 text-orange-600 px-3 py-1 rounded-lg font-medium">Get Quote</button>
                    </div>
                </article>
                <article class="service-card bg-white p-6 rounded-2xl shadow-lg border-l-4 border-blue-500 transition-all cursor-pointer group" onclick="openBookingModal('renovation', 'Contact for Quote')">
                    <div class="w-14 h-14 bg-blue-100 text-blue-600 rounded-2xl flex items-center justify-center mb-4 text-3xl group-hover:bg-blue-600 group-hover:text-white transition">
                        <i class="ph-fill ph-paint-roller"></i>
                    </div>
                    <h4 class="text-lg font-bold mb-1 text-gray-800">Renovation (‡∏á‡∏≤‡∏ô‡∏£‡∏µ‡πÇ‡∏ô‡πÄ‡∏ß‡∏ó)</h4>
                    <p class="text-sm text-gray-500 mb-4">Villa refurbishment, Bathroom & Kitchen remodel. ‡∏õ‡∏£‡∏±‡∏ö‡∏õ‡∏£‡∏∏‡∏á‡∏ö‡πâ‡∏≤‡∏ô‡πÅ‡∏•‡∏∞‡∏≠‡∏≤‡∏Ñ‡∏≤‡∏£</p>
                    <div class="flex justify-between items-center border-t pt-4 border-gray-100">
                        <span class="text-gray-500 text-xs font-bold">Start ‡∏ø5,000/sqm</span>
                        <button class="text-sm bg-blue-50 text-blue-600 px-3 py-1 rounded-lg font-medium">Get Quote</button>
                    </div>
                </article>
                <article class="service-card bg-white p-6 rounded-2xl shadow-lg border-l-4 border-green-500 transition-all cursor-pointer group" onclick="openBookingModal('extension', 'Contact for Quote')">
                    <div class="w-14 h-14 bg-green-100 text-green-600 rounded-2xl flex items-center justify-center mb-4 text-3xl group-hover:bg-green-600 group-hover:text-white transition">
                        <i class="ph-fill ph-wall"></i>
                    </div>
                    <h4 class="text-lg font-bold mb-1 text-gray-800">Extension (‡∏á‡∏≤‡∏ô‡∏ï‡πà‡∏≠‡πÄ‡∏ï‡∏¥‡∏°)</h4>
                    <p class="text-sm text-gray-500 mb-4">Room addition, Roof extension, Terrace. ‡∏ï‡πà‡∏≠‡πÄ‡∏ï‡∏¥‡∏°‡∏Ñ‡∏£‡∏±‡∏ß ‡πÇ‡∏£‡∏á‡∏£‡∏ñ ‡∏£‡∏∞‡πÄ‡∏ö‡∏µ‡∏¢‡∏á</p>
                    <div class="flex justify-between items-center border-t pt-4 border-gray-100">
                        <span class="text-gray-500 text-xs font-bold">Site Appraisal</span>
                        <button class="text-sm bg-green-50 text-green-600 px-3 py-1 rounded-lg font-medium">Get Quote</button>
                    </div>
                </article>
            </div>
        </div>

        <!-- Pricing Guide -->
        <div id="pricing-guide" class="scroll-mt-28">
            <h3 class="text-2xl font-bold text-gray-800 mb-6 flex items-center gap-2">
                <i class="ph-fill ph-currency-thb text-cyan-600"></i> Service Rates & Location Surcharges (‡∏ï‡∏≤‡∏£‡∏≤‡∏á‡∏£‡∏≤‡∏Ñ‡∏≤)
            </h3>
            <div class="bg-white rounded-2xl shadow-xl overflow-hidden border border-gray-100">
                <div class="overflow-x-auto">
                    <table class="w-full text-sm md:text-base text-left border-collapse min-w-[600px]">
                        <thead>
                            <tr class="bg-gradient-to-r from-cyan-900 to-blue-900 text-white">
                                <th class="py-4 px-6 font-semibold uppercase tracking-wider text-sm">Service Category<br><span class="text-xs font-normal text-cyan-200 opacity-80">‡∏õ‡∏£‡∏∞‡πÄ‡∏†‡∏ó‡∏ö‡∏£‡∏¥‡∏Å‡∏≤‡∏£</span></th>
                                <th class="py-4 px-6 font-semibold uppercase tracking-wider text-sm">Flat Area (Zone A)<br><span class="text-xs font-normal text-cyan-200 opacity-80">‡∏û‡∏∑‡πâ‡∏ô‡∏ó‡∏µ‡πà‡∏£‡∏≤‡∏ö/‡πÄ‡∏Ç‡πâ‡∏≤‡∏ñ‡∏∂‡∏á‡∏á‡πà‡∏≤‡∏¢</span></th>
                                <th class="py-4 px-6 font-semibold uppercase tracking-wider text-sm bg-orange-500/10">Mountain (Zone B)<br><span class="text-xs font-normal text-orange-200 opacity-90">‡∏ö‡∏ô‡πÄ‡∏Ç‡∏≤/‡∏ó‡∏≤‡∏á‡∏ä‡∏±‡∏ô (+20-30%)</span></th>
                                <th class="py-4 px-6 font-semibold uppercase tracking-wider text-sm">Unit<br><span class="text-xs font-normal text-cyan-200 opacity-80">‡∏´‡∏ô‡πà‡∏ß‡∏¢</span></th>
                            </tr>
                        </thead>
                        <tbody class="divide-y divide-gray-100">
                            <tr class="bg-blue-50/50"><td colspan="4" class="px-6 py-3 text-cyan-800 font-bold flex items-center gap-2"><i class="ph-fill ph-wrench"></i> General Maintenance (‡∏á‡∏≤‡∏ô‡∏î‡∏π‡πÅ‡∏•‡∏ó‡∏±‡πà‡∏ß‡πÑ‡∏õ)</td></tr>
                            <tr class="hover:bg-gray-50 transition-colors group">
                                <td class="px-6 py-4 font-medium text-gray-700 group-hover:text-cyan-600 transition-colors">AC Cleaning (‡∏•‡πâ‡∏≤‡∏á‡πÅ‡∏≠‡∏£‡πå)</td>
                                <td class="px-6 py-4 text-gray-600"><span class="bg-green-100 text-green-700 py-1 px-2 rounded-md text-xs font-bold">‡∏ø600</span></td>
                                <td class="px-6 py-4 text-orange-600 font-medium bg-orange-50/30">‡∏ø800 - ‡∏ø900</td>
                                <td class="px-6 py-4 text-gray-500 text-sm">Per Unit</td>
                            </tr>
                            <tr class="hover:bg-gray-50 transition-colors group">
                                <td class="px-6 py-4 font-medium text-gray-700 group-hover:text-cyan-600 transition-colors">Pool Cleaning (‡∏î‡∏π‡πÅ‡∏•‡∏™‡∏£‡∏∞)</td>
                                <td class="px-6 py-4 text-gray-600"><span class="bg-green-100 text-green-700 py-1 px-2 rounded-md text-xs font-bold">‡∏ø1,500</span></td>
                                <td class="px-6 py-4 text-orange-600 font-medium bg-orange-50/30">‡∏ø2,000</td>
                                <td class="px-6 py-4 text-gray-500 text-sm">Per Visit</td>
                            </tr>
                            <tr class="hover:bg-gray-50 transition-colors group">
                                <td class="px-6 py-4 font-medium text-gray-700 group-hover:text-cyan-600 transition-colors">Handyman (‡∏ä‡πà‡∏≤‡∏á‡∏ã‡πà‡∏≠‡∏°‡∏ó‡∏±‡πà‡∏ß‡πÑ‡∏õ)</td>
                                <td class="px-6 py-4 text-gray-600"><span class="bg-green-100 text-green-700 py-1 px-2 rounded-md text-xs font-bold">‡∏ø500</span></td>
                                <td class="px-6 py-4 text-orange-600 font-medium bg-orange-50/30">‡∏ø800</td>
                                <td class="px-6 py-4 text-gray-500 text-sm">Transport Fee</td>
                            </tr>
                            <tr class="bg-orange-50/50"><td colspan="4" class="px-6 py-3 text-orange-800 font-bold flex items-center gap-2"><i class="ph-fill ph-bricks"></i> Construction & Renovation (‡∏á‡∏≤‡∏ô‡πÇ‡∏Ñ‡∏£‡∏á‡∏™‡∏£‡πâ‡∏≤‡∏á)</td></tr>
                            <tr class="hover:bg-gray-50 transition-colors group"><td class="px-6 py-4 font-medium text-gray-700 group-hover:text-orange-600 transition-colors">New Build (Standard)</td><td class="px-6 py-4 text-gray-600">‡∏ø20,000 - ‡∏ø25,000</td><td class="px-6 py-4 text-orange-600 font-medium bg-orange-50/30">‡∏ø28,000 - ‡∏ø35,000</td><td class="px-6 py-4 text-gray-500 text-sm">Per Sq.m.</td></tr>
                            <tr class="hover:bg-gray-50 transition-colors group"><td class="px-6 py-4 font-medium text-gray-700 group-hover:text-orange-600 transition-colors">Renovation (General)</td><td class="px-6 py-4 text-gray-600">‡∏ø5,000 - ‡∏ø10,000</td><td class="px-6 py-4 text-orange-600 font-medium bg-orange-50/30">‡∏ø7,000 - ‡∏ø12,000</td><td class="px-6 py-4 text-gray-500 text-sm">Per Sq.m.</td></tr>
                            <tr class="hover:bg-gray-50 transition-colors group"><td class="px-6 py-4 font-medium text-gray-700 group-hover:text-orange-600 transition-colors">Tiling Work (‡∏õ‡∏π‡∏Å‡∏£‡∏∞‡πÄ‡∏ö‡∏∑‡πâ‡∏≠‡∏á)</td><td class="px-6 py-4 text-gray-600">‡∏ø350 - ‡∏ø500</td><td class="px-6 py-4 text-orange-600 font-medium bg-orange-50/30">‡∏ø500 - ‡∏ø700</td><td class="px-6 py-4 text-gray-500 text-sm">Per Sq.m. (Labor)</td></tr>
                            <tr class="hover:bg-gray-50 transition-colors group"><td class="px-6 py-4 font-medium text-gray-700 group-hover:text-orange-600 transition-colors">Painting (‡∏ó‡∏≤‡∏™‡∏µ)</td><td class="px-6 py-4 text-gray-600">‡∏ø120 - ‡∏ø180</td><td class="px-6 py-4 text-orange-600 font-medium bg-orange-50/30">‡∏ø180 - ‡∏ø250</td><td class="px-6 py-4 text-gray-500 text-sm">Per Sq.m.</td></tr>
                        </tbody>
                    </table>
                </div>
                <div class="bg-gradient-to-r from-yellow-50 to-orange-50 p-6 border-t border-orange-100 flex flex-col sm:flex-row gap-4">
                    <div class="bg-orange-100 p-2 rounded-full h-fit text-orange-600 shrink-0"><i class="ph-fill ph-info text-xl"></i></div>
                    <div class="text-sm text-gray-700 space-y-2">
                        <p class="font-bold text-orange-800 uppercase tracking-wide text-xs">Important Note / ‡∏´‡∏°‡∏≤‡∏¢‡πÄ‡∏´‡∏ï‡∏∏‡∏™‡∏≥‡∏Ñ‡∏±‡∏ç:</p>
                        <p><strong>Mountain Zone (‡πÇ‡∏ã‡∏ô‡πÄ‡∏Ç‡∏≤):</strong> Areas with steep access or difficult terrain. Prices include extra transportation & difficulty allowance.</p>
                        <p><strong>Construction Estimates:</strong> Prices shown are initial estimates. Final pricing depends on material selection and site survey.</p>
                        <p class="text-gray-500 italic">* ‡∏£‡∏≤‡∏Ñ‡∏≤‡∏Å‡πà‡∏≠‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏ö‡∏ô‡πÄ‡∏Ç‡∏≤‡∏≠‡∏≤‡∏à‡∏°‡∏µ‡∏Å‡∏≤‡∏£‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡πÅ‡∏õ‡∏•‡∏á‡∏Ç‡∏∂‡πâ‡∏ô‡∏≠‡∏¢‡∏π‡πà‡∏Å‡∏±‡∏ö‡∏Ñ‡∏ß‡∏≤‡∏°‡∏¢‡∏≤‡∏Å‡∏á‡πà‡∏≤‡∏¢‡πÉ‡∏ô‡∏Å‡∏≤‡∏£‡∏Ç‡∏ô‡∏™‡πà‡∏á‡∏ß‡∏±‡∏™‡∏î‡∏∏‡πÅ‡∏•‡∏∞‡∏™‡∏†‡∏≤‡∏û‡∏´‡∏ô‡πâ‡∏≤‡∏á‡∏≤‡∏ô‡∏à‡∏£‡∏¥‡∏á</p>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- General Services -->
        <div id="services-list" class="scroll-mt-28">
            <h3 class="text-2xl font-bold text-gray-800 mb-6 flex items-center gap-2">
                <i class="ph-fill ph-wrench text-cyan-600"></i> Maintenance Services (‡∏ö‡∏£‡∏¥‡∏Å‡∏≤‡∏£‡∏î‡∏π‡πÅ‡∏•‡∏£‡∏±‡∏Å‡∏©‡∏≤)
            </h3>
            <div class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-6">
                <!-- Service Cards -->
                <article class="service-card bg-white p-6 rounded-2xl shadow-lg border border-blue-50 transition-all cursor-pointer group" onclick="openBookingModal('pool', 1500)">
                    <div class="w-14 h-14 bg-blue-100 text-blue-600 rounded-2xl flex items-center justify-center mb-4 text-3xl group-hover:bg-blue-600 group-hover:text-white transition"><i class="ph-fill ph-swimming-pool"></i></div>
                    <h4 class="text-lg font-bold mb-1 text-gray-800">‡∏î‡∏π‡πÅ‡∏•‡∏™‡∏£‡∏∞‡∏ß‡πà‡∏≤‡∏¢‡∏ô‡πâ‡∏≥ (Pool Service)</h4>
                    <p class="text-sm text-gray-500 mb-4">Cleaning, Chemical check & Maintenance.</p>
                    <div class="flex justify-between items-center border-t pt-4 border-gray-100"><span class="text-blue-600 font-bold">‡∏ø1,500 / Visit</span><button class="text-sm bg-blue-50 text-blue-600 px-3 py-1 rounded-lg font-medium">‡∏à‡∏≠‡∏á‡πÄ‡∏•‡∏¢</button></div>
                </article>
                <article class="service-card bg-white p-6 rounded-2xl shadow-lg border border-blue-50 transition-all cursor-pointer group" onclick="openBookingModal('ac', 600)">
                    <div class="w-14 h-14 bg-cyan-100 text-cyan-600 rounded-2xl flex items-center justify-center mb-4 text-3xl group-hover:bg-cyan-600 group-hover:text-white transition"><i class="ph-fill ph-fan"></i></div>
                    <h4 class="text-lg font-bold mb-1 text-gray-800">‡∏•‡πâ‡∏≤‡∏á‡πÅ‡∏≠‡∏£‡πå (AC Cleaning)</h4>
                    <p class="text-sm text-gray-500 mb-4">Deep cleaning, Salt stain removal.</p>
                    <div class="flex justify-between items-center border-t pt-4 border-gray-100"><span class="text-cyan-600 font-bold">‡∏ø600 / Unit</span><button class="text-sm bg-cyan-50 text-cyan-600 px-3 py-1 rounded-lg font-medium">‡∏à‡∏≠‡∏á‡πÄ‡∏•‡∏¢</button></div>
                </article>
                <article class="service-card bg-white p-6 rounded-2xl shadow-lg border border-blue-50 transition-all cursor-pointer group" onclick="openBookingModal('clean', 1200)">
                    <div class="w-14 h-14 bg-orange-100 text-orange-600 rounded-2xl flex items-center justify-center mb-4 text-3xl group-hover:bg-orange-500 group-hover:text-white transition"><i class="ph-fill ph-broom"></i></div>
                    <h4 class="text-lg font-bold mb-1 text-gray-800">‡∏ó‡∏≥‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏∞‡∏≠‡∏≤‡∏î (Deep Clean)</h4>
                    <p class="text-sm text-gray-500 mb-4">Villa cleaning, Change bed sheets.</p>
                    <div class="flex justify-between items-center border-t pt-4 border-gray-100"><span class="text-orange-600 font-bold">Start ‡∏ø1,200</span><button class="text-sm bg-orange-50 text-orange-600 px-3 py-1 rounded-lg font-medium">‡∏à‡∏≠‡∏á‡πÄ‡∏•‡∏¢</button></div>
                </article>
                <article class="service-card bg-white p-6 rounded-2xl shadow-lg border border-blue-50 transition-all cursor-pointer group" onclick="openBookingModal('pest', 2000)">
                    <div class="w-14 h-14 bg-red-100 text-red-600 rounded-2xl flex items-center justify-center mb-4 text-3xl group-hover:bg-red-600 group-hover:text-white transition"><i class="ph-fill ph-bug"></i></div>
                    <h4 class="text-lg font-bold mb-1 text-gray-800">‡∏Å‡∏≥‡∏à‡∏±‡∏î‡πÅ‡∏°‡∏•‡∏á (Pest Control)</h4>
                    <p class="text-sm text-gray-500 mb-4">Mosquito, Termite & Ant control.</p>
                    <div class="flex justify-between items-center border-t pt-4 border-gray-100"><span class="text-red-600 font-bold">‡∏ø2,000 / Visit</span><button class="text-sm bg-red-50 text-red-600 px-3 py-1 rounded-lg font-medium">‡∏à‡∏≠‡∏á‡πÄ‡∏•‡∏¢</button></div>
                </article>
                <article class="service-card bg-white p-6 rounded-2xl shadow-lg border border-blue-50 transition-all cursor-pointer group" onclick="openBookingModal('garden', 800)">
                    <div class="w-14 h-14 bg-green-100 text-green-600 rounded-2xl flex items-center justify-center mb-4 text-3xl group-hover:bg-green-600 group-hover:text-white transition"><i class="ph-fill ph-plant"></i></div>
                    <h4 class="text-lg font-bold mb-1 text-gray-800">‡∏î‡∏π‡πÅ‡∏•‡∏™‡∏ß‡∏ô (Gardening)</h4>
                    <p class="text-sm text-gray-500 mb-4">Grass cutting, Trimming, Leaf removal.</p>
                    <div class="flex justify-between items-center border-t pt-4 border-gray-100"><span class="text-green-600 font-bold">‡∏ø800 / Hour</span><button class="text-sm bg-green-50 text-green-600 px-3 py-1 rounded-lg font-medium">‡∏à‡∏≠‡∏á‡πÄ‡∏•‡∏¢</button></div>
                </article>
                <article class="service-card bg-white p-6 rounded-2xl shadow-lg border border-blue-50 transition-all cursor-pointer group" onclick="openBookingModal('handyman', 500)">
                    <div class="w-14 h-14 bg-slate-100 text-slate-600 rounded-2xl flex items-center justify-center mb-4 text-3xl group-hover:bg-slate-600 group-hover:text-white transition"><i class="ph-fill ph-wrench"></i></div>
                    <h4 class="text-lg font-bold mb-1 text-gray-800">‡∏ã‡πà‡∏≠‡∏°‡∏£‡∏∞‡∏ö‡∏ö‡∏ô‡πâ‡∏≥-‡πÑ‡∏ü (Handyman)</h4>
                    <p class="text-sm text-gray-500 mb-4">Plumbing, Electrical repair.</p>
                    <div class="flex justify-between items-center border-t pt-4 border-gray-100"><span class="text-slate-600 font-bold">Start ‡∏ø500</span><button class="text-sm bg-slate-50 text-slate-600 px-3 py-1 rounded-lg font-medium">‡πÄ‡∏£‡∏µ‡∏¢‡∏Å‡∏ä‡πà‡∏≤‡∏á</button></div>
                </article>
            </div>
        </div>

        <!-- Monthly Packages -->
        <div id="packages" class="scroll-mt-28">
            <div class="text-center mb-10">
                <span class="text-cyan-600 font-bold tracking-wider uppercase text-sm bg-cyan-100 px-3 py-1 rounded-full">Save more with monthly plan</span>
                <h3 class="text-3xl font-bold text-gray-800 mt-3">Monthly Villa Packages<br><span class="text-xl text-gray-500">‡πÅ‡∏û‡πá‡∏Ñ‡πÄ‡∏Å‡∏à‡∏î‡∏π‡πÅ‡∏•‡∏£‡∏≤‡∏¢‡πÄ‡∏î‡∏∑‡∏≠‡∏ô</span></h3>
                <p class="text-gray-500 mt-2">Continuous care for your vacation home.</p>
            </div>
            <div class="grid grid-cols-1 md:grid-cols-3 gap-8">
                <!-- Package Cards -->
                <div class="bg-white rounded-2xl shadow-xl overflow-hidden border border-gray-100 flex flex-col hover:shadow-2xl transition duration-300">
                    <div class="p-6 bg-gray-50 border-b border-gray-100"><h4 class="text-xl font-bold text-gray-800">Garden & Pool (Basic)</h4><p class="text-sm text-gray-500 mt-1">Small Villa / ‡∏ß‡∏¥‡∏•‡∏•‡πà‡∏≤‡∏Ç‡∏ô‡∏≤‡∏î‡πÄ‡∏•‡πá‡∏Å</p><div class="mt-4 flex items-baseline"><span class="text-3xl font-bold text-cyan-600">‡∏ø4,500</span><span class="text-gray-500 ml-1">/ Month</span></div></div>
                    <div class="p-6 flex-grow"><ul class="space-y-3 text-sm text-gray-600"><li class="flex items-center gap-2"><i class="ph-fill ph-check-circle text-green-500 text-lg"></i> Pool Cleaning 4 times/mo</li><li class="flex items-center gap-2"><i class="ph-fill ph-check-circle text-green-500 text-lg"></i> Chemical Check</li><li class="flex items-center gap-2"><i class="ph-fill ph-check-circle text-green-500 text-lg"></i> Garden Trimming 2 times/mo</li><li class="flex items-center gap-2"><i class="ph-fill ph-check-circle text-green-500 text-lg"></i> Leaf Removal</li></ul></div>
                    <div class="p-6 pt-0"><button onclick="openBookingModal('pack_basic', 4500)" class="w-full py-3 rounded-xl border-2 border-cyan-600 text-cyan-600 font-bold hover:bg-cyan-600 hover:text-white transition">Select Plan</button></div>
                </div>
                <div class="bg-white rounded-2xl shadow-xl overflow-hidden border-2 border-orange-400 relative flex flex-col transform md:-translate-y-4 hover:shadow-2xl transition duration-300">
                    <div class="absolute top-0 right-0 bg-orange-400 text-white text-xs font-bold px-3 py-1 rounded-bl-lg">Best Seller</div>
                    <div class="p-6 bg-orange-50 border-b border-orange-100"><h4 class="text-xl font-bold text-gray-800">Cleaning (Standard)</h4><p class="text-sm text-gray-500 mt-1">For Cleanliness / ‡πÄ‡∏ô‡πâ‡∏ô‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏∞‡∏≠‡∏≤‡∏î</p><div class="mt-4 flex items-baseline"><span class="text-3xl font-bold text-orange-500">‡∏ø7,500</span><span class="text-gray-500 ml-1">/ Month</span></div></div>
                    <div class="p-6 flex-grow"><ul class="space-y-3 text-sm text-gray-600"><li class="flex items-center gap-2"><i class="ph-fill ph-check-circle text-green-500 text-lg"></i> <b>All in Basic Package</b></li><li class="flex items-center gap-2"><i class="ph-fill ph-check-circle text-green-500 text-lg"></i> Maid Cleaning 4 times/mo</li><li class="flex items-center gap-2"><i class="ph-fill ph-check-circle text-green-500 text-lg"></i> Laundry Service</li><li class="flex items-center gap-2"><i class="ph-fill ph-check-circle text-green-500 text-lg"></i> Exterior Glass Cleaning</li></ul></div>
                    <div class="p-6 pt-0"><button onclick="openBookingModal('pack_standard', 7500)" class="w-full py-3 rounded-xl bg-gradient-to-r from-orange-400 to-red-500 text-white font-bold hover:shadow-lg transition">Select Plan</button></div>
                </div>
                <div class="bg-white rounded-2xl shadow-xl overflow-hidden border border-gray-100 flex flex-col hover:shadow-2xl transition duration-300">
                    <div class="p-6 bg-gray-50 border-b border-gray-100"><h4 class="text-xl font-bold text-gray-800">Full Service (Elite)</h4><p class="text-sm text-gray-500 mt-1">Worry-free / ‡∏î‡∏π‡πÅ‡∏•‡∏Ñ‡∏£‡∏ö‡∏ß‡∏á‡∏à‡∏£</p><div class="mt-4 flex items-baseline"><span class="text-3xl font-bold text-gray-800">‡∏ø12,000</span><span class="text-gray-500 ml-1">/ Month</span></div></div>
                    <div class="p-6 flex-grow"><ul class="space-y-3 text-sm text-gray-600"><li class="flex items-center gap-2"><i class="ph-fill ph-check-circle text-green-500 text-lg"></i> <b>All in Standard Package</b></li><li class="flex items-center gap-2"><i class="ph-fill ph-check-circle text-green-500 text-lg"></i> Pest Control (Monthly)</li><li class="flex items-center gap-2"><i class="ph-fill ph-check-circle text-green-500 text-lg"></i> AC Cleaning 2 units (Every 3 mo)</li><li class="flex items-center gap-2"><i class="ph-fill ph-check-circle text-green-500 text-lg"></i> On-call Handyman 24h</li></ul></div>
                    <div class="p-6 pt-0"><button onclick="openBookingModal('pack_elite', 12000)" class="w-full py-3 rounded-xl border-2 border-gray-800 text-gray-800 font-bold hover:bg-gray-800 hover:text-white transition">Select Plan</button></div>
                </div>
            </div>
        </div>

        <!-- My Booking -->
        <div id="booking-section" class="scroll-mt-28 bg-white rounded-3xl p-8 shadow-xl">
            <h3 class="text-2xl font-bold text-gray-800 mb-6 flex justify-between items-center">
                <span class="flex items-center gap-2"><i class="ph-fill ph-clipboard-text text-orange-500"></i> My Bookings (‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡∏à‡∏≠‡∏á)</span>
                <span class="text-xs font-normal text-gray-500 bg-gray-100 px-3 py-1 rounded-full border">Real-time update</span>
            </h3>
            <div id="booking-list" class="space-y-4">
                <div class="text-center py-12 text-gray-400"><i class="ph ph-spinner animate-spin text-4xl mb-3 text-cyan-500"></i><p>Loading data...</p></div>
            </div>
        </div>

        <!-- Blog Section -->
        <section id="blogs" class="scroll-mt-28 py-8">
            <div class="flex justify-between items-end mb-8 px-2">
                <div>
                    <span class="text-cyan-600 font-bold tracking-wider uppercase text-sm bg-cyan-100 px-3 py-1 rounded-full shadow-sm"><i class="ph-fill ph-newspaper"></i> Knowledge Hub</span>
                    <h3 class="text-3xl font-bold text-gray-800 mt-3 flex items-center gap-2">Latest Articles <button onclick="openBlogModal()" class="text-xs bg-gray-100 hover:bg-gray-200 text-gray-500 px-2 py-1 rounded border ml-2 transition">+ Write New</button><br><span class="text-xl text-gray-500 font-normal">‡∏ö‡∏ó‡∏Ñ‡∏ß‡∏≤‡∏°‡πÅ‡∏•‡∏∞‡πÄ‡∏Å‡∏£‡πá‡∏î‡∏Ñ‡∏ß‡∏≤‡∏°‡∏£‡∏π‡πâ</span></h3>
                </div>
                <a href="#" class="hidden md:flex items-center gap-2 text-cyan-600 font-bold hover:underline">View All <i class="ph-bold ph-arrow-right"></i></a>
            </div>
            <div id="blog-list" class="grid grid-cols-1 md:grid-cols-3 gap-8">
                <div class="col-span-full text-center py-12 text-gray-400"><i class="ph ph-spinner animate-spin text-3xl mb-2"></i><p>Loading articles...</p></div>
            </div>
        </section>

        <!-- Reviews -->
        <section id="reviews" class="scroll-mt-28 py-8">
            <div class="text-center mb-10">
                <span class="text-yellow-600 font-bold tracking-wider uppercase text-sm bg-yellow-100 px-3 py-1 rounded-full shadow-sm"><i class="ph-fill ph-star"></i> Testimonials</span>
                <h3 class="text-3xl font-bold text-gray-800 mt-3">What Our Customers Say<br><span class="text-xl text-gray-500">‡πÄ‡∏™‡∏µ‡∏¢‡∏á‡∏ï‡∏≠‡∏ö‡∏£‡∏±‡∏ö‡∏à‡∏≤‡∏Å‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤‡∏à‡∏£‡∏¥‡∏á</span></h3>
                <p class="text-gray-500 mt-2">Trusted by over 500+ villas and homes in Koh Samui.</p>
            </div>
            <div class="grid grid-cols-1 md:grid-cols-3 gap-8">
                <div class="bg-white p-6 rounded-2xl shadow-lg border border-gray-100 flex flex-col h-full transform hover:-translate-y-1 transition duration-300">
                    <div class="flex items-center gap-1 text-yellow-400 mb-4 text-lg"><i class="ph-fill ph-star"></i><i class="ph-fill ph-star"></i><i class="ph-fill ph-star"></i><i class="ph-fill ph-star"></i><i class="ph-fill ph-star"></i></div>
                    <div class="mb-6 flex-grow"><i class="ph-fill ph-quotes text-3xl text-gray-200 block mb-2"></i><p class="text-gray-600 italic leading-relaxed">"Excellent service! The AC cleaning team was very professional and polite. They arrived exactly on time and cleaned up everything afterwards. Highly recommend for expats in Samui looking for English-speaking staff."</p></div>
                    <div class="flex items-center gap-3 mt-auto border-t border-gray-100 pt-4"><div class="w-12 h-12 bg-blue-100 rounded-full flex items-center justify-center text-blue-600 font-bold text-xl shadow-inner">JD</div><div><h5 class="font-bold text-gray-800">John Davidson</h5><p class="text-xs text-gray-500">Villa Owner, Maenam</p></div></div>
                </div>
                <!-- More reviews... -->
                <div class="bg-white p-6 rounded-2xl shadow-lg border border-gray-100 flex flex-col h-full transform hover:-translate-y-1 transition duration-300">
                    <div class="flex items-center gap-1 text-yellow-400 mb-4 text-lg"><i class="ph-fill ph-star"></i><i class="ph-fill ph-star"></i><i class="ph-fill ph-star"></i><i class="ph-fill ph-star"></i><i class="ph-fill ph-star"></i></div>
                    <div class="mb-6 flex-grow"><i class="ph-fill ph-quotes text-3xl text-gray-200 block mb-2"></i><p class="text-gray-600 italic leading-relaxed">"‡∏õ‡∏£‡∏∞‡∏ó‡∏±‡∏ö‡πÉ‡∏à‡∏ö‡∏£‡∏¥‡∏Å‡∏≤‡∏£‡∏ä‡πà‡∏≤‡∏á‡∏â‡∏∏‡∏Å‡πÄ‡∏â‡∏¥‡∏ô‡∏°‡∏≤‡∏Å‡∏Ñ‡πà‡∏∞ ‡∏ó‡πà‡∏≠‡∏ô‡πâ‡∏≥‡πÅ‡∏ï‡∏Å‡∏ï‡∏≠‡∏ô‡∏ï‡∏µ 2 ‡πÇ‡∏ó‡∏£‡πÑ‡∏õ‡πÅ‡∏õ‡πä‡∏ö‡πÄ‡∏î‡∏µ‡∏¢‡∏ß‡∏ä‡πà‡∏≤‡∏á‡∏°‡∏≤‡∏ñ‡∏∂‡∏á ‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡∏ã‡πà‡∏≠‡∏°‡πÉ‡∏´‡πâ‡πÄ‡∏™‡∏£‡πá‡∏à‡∏™‡∏£‡∏£‡∏û ‡∏£‡∏≤‡∏Ñ‡∏≤‡∏°‡∏≤‡∏ï‡∏£‡∏ê‡∏≤‡∏ô‡πÑ‡∏°‡πà‡∏ö‡∏ß‡∏Å‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏°‡∏±‡πà‡∏ß‡∏ã‡∏±‡πà‡∏ß ‡πÄ‡∏õ‡πá‡∏ô‡∏Å‡∏±‡∏ô‡πÄ‡∏≠‡∏á‡∏°‡∏≤‡∏Å ‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥‡πÄ‡∏•‡∏¢‡∏Ñ‡πà‡∏∞‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏Ñ‡∏ô‡∏™‡∏°‡∏∏‡∏¢"</p></div>
                    <div class="flex items-center gap-3 mt-auto border-t border-gray-100 pt-4"><div class="w-12 h-12 bg-orange-100 rounded-full flex items-center justify-center text-orange-600 font-bold text-xl shadow-inner">P</div><div><h5 class="font-bold text-gray-800">‡∏Ñ‡∏∏‡∏ì‡∏û‡∏¥‡∏°‡∏û‡πå‡πÉ‡∏à</h5><p class="text-xs text-gray-500">Restaurant Owner, Bophut</p></div></div>
                </div>
                <div class="bg-white p-6 rounded-2xl shadow-lg border border-gray-100 flex flex-col h-full transform hover:-translate-y-1 transition duration-300">
                    <div class="flex items-center gap-1 text-yellow-400 mb-4 text-lg"><i class="ph-fill ph-star"></i><i class="ph-fill ph-star"></i><i class="ph-fill ph-star"></i><i class="ph-fill ph-star"></i><i class="ph-fill ph-star-half"></i></div>
                    <div class="mb-6 flex-grow"><i class="ph-fill ph-quotes text-3xl text-gray-200 block mb-2"></i><p class="text-gray-600 italic leading-relaxed">"We use their monthly pool and gardening package for our rental villa. The team sends photo updates via Line every visit which gives us peace of mind when we are not on the island. Very reliable."</p></div>
                    <div class="flex items-center gap-3 mt-auto border-t border-gray-100 pt-4"><div class="w-12 h-12 bg-green-100 rounded-full flex items-center justify-center text-green-600 font-bold text-xl shadow-inner">S</div><div><h5 class="font-bold text-gray-800">Sarah & Mike</h5><p class="text-xs text-gray-500">Lamai Beach Villa</p></div></div>
                </div>
            </div>
        </section>

    </main>

    <!-- Admin Login Modal -->
    <div id="admin-login-modal" class="fixed inset-0 bg-black/60 z-[100] hidden flex items-center justify-center px-4 backdrop-blur-sm">
        <div class="bg-white rounded-3xl w-full max-w-sm p-6 shadow-2xl transform scale-95 opacity-0 transition-all duration-300" id="admin-login-content">
            <div class="flex justify-between items-center mb-6">
                <h3 class="text-xl font-bold text-gray-800 flex items-center gap-2"><i class="ph-fill ph-lock-key"></i> Admin Access</h3>
                <button onclick="closeAdminLoginModal()" class="text-gray-400 hover:text-red-500 text-2xl transition">&times;</button>
            </div>
            <p class="text-sm text-gray-500 mb-4">Please log in to manage blog posts.</p>
            <form id="admin-login-form" onsubmit="handleAdminLogin(event)" class="space-y-4">
                <div>
                    <label class="block text-sm font-semibold text-gray-600 mb-1">Email</label>
                    <input type="email" id="admin-email" required class="w-full bg-gray-50 border border-gray-200 rounded-xl p-3 focus:ring-2 focus:ring-cyan-500 outline-none">
                </div>
                <div>
                    <label class="block text-sm font-semibold text-gray-600 mb-1">Password</label>
                    <input type="password" id="admin-password" required class="w-full bg-gray-50 border border-gray-200 rounded-xl p-3 focus:ring-2 focus:ring-cyan-500 outline-none">
                </div>
                <button type="submit" id="admin-login-btn" class="w-full bg-cyan-600 hover:bg-cyan-700 text-white font-bold py-3 rounded-xl transition shadow-lg">Login</button>
            </form>
        </div>
    </div>

    <!-- Blog Post Modal (Updated for SEO) -->
    <div id="blog-modal" class="fixed inset-0 bg-black/60 z-[100] hidden flex items-center justify-center px-4 backdrop-blur-sm overflow-y-auto">
        <div class="bg-white rounded-3xl w-full max-w-2xl p-6 shadow-2xl transform scale-95 opacity-0 transition-all duration-300 my-8" id="blog-modal-content">
            <div class="flex justify-between items-center mb-6 border-b border-gray-100 pb-4">
                <h3 class="text-xl font-bold text-gray-800 flex items-center gap-2"><i class="ph-fill ph-pencil-simple text-cyan-600"></i> Post New Article (SEO Optimized)</h3>
                <button onclick="closeBlogModal()" class="text-gray-400 hover:text-red-500 text-2xl transition">&times;</button>
            </div>
            
            <form id="blog-form" onsubmit="submitBlog(event)" class="space-y-5">
                <!-- Content Section -->
                <div class="space-y-4">
                    <div>
                        <label class="block text-sm font-bold text-gray-700 mb-1">Title (‡∏´‡∏±‡∏ß‡∏Ç‡πâ‡∏≠‡∏ö‡∏ó‡∏Ñ‡∏ß‡∏≤‡∏°)</label>
                        <input type="text" id="blog-title" required class="w-full bg-gray-50 border border-gray-200 rounded-xl p-3 focus:ring-2 focus:ring-cyan-500 outline-none transition" onkeyup="generateSlug()">
                    </div>
                    
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                        <div>
                            <label class="block text-sm font-bold text-gray-700 mb-1">Category</label>
                            <select id="blog-category" class="w-full bg-gray-50 border border-gray-200 rounded-xl p-3 focus:ring-2 focus:ring-cyan-500 outline-none transition">
                                <option>Maintenance</option>
                                <option>Repair Guide</option>
                                <option>News</option>
                                <option>Promotion</option>
                                <option>Lifestyle</option>
                            </select>
                        </div>
                        <div>
                            <label class="block text-sm font-bold text-gray-700 mb-1">Author</label>
                            <input type="text" id="blog-author" value="Admin" class="w-full bg-gray-50 border border-gray-200 rounded-xl p-3 focus:ring-2 focus:ring-cyan-500 outline-none transition">
                        </div>
                    </div>

                    <div>
                        <label class="block text-sm font-bold text-gray-700 mb-1">Excerpt (‡πÄ‡∏ô‡∏∑‡πâ‡∏≠‡∏´‡∏≤‡∏¢‡πà‡∏≠)</label>
                        <textarea id="blog-excerpt" rows="3" required class="w-full bg-gray-50 border border-gray-200 rounded-xl p-3 focus:ring-2 focus:ring-cyan-500 outline-none transition" placeholder="‡∏™‡∏£‡∏∏‡∏õ‡πÄ‡∏ô‡∏∑‡πâ‡∏≠‡∏´‡∏≤‡πÉ‡∏´‡πâ‡∏ô‡πà‡∏≤‡∏™‡∏ô‡πÉ‡∏à..."></textarea>
                    </div>

                     <!-- NEW: Full Content Textarea -->
                    <div>
                        <label class="block text-sm font-bold text-gray-700 mb-1">Full Content (‡πÄ‡∏ô‡∏∑‡πâ‡∏≠‡∏´‡∏≤‡∏â‡∏ö‡∏±‡∏ö‡πÄ‡∏ï‡πá‡∏°)</label>
                        <textarea id="blog-content" rows="6" class="w-full bg-gray-50 border border-gray-200 rounded-xl p-3 focus:ring-2 focus:ring-cyan-500 outline-none transition" placeholder="‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ô‡πÄ‡∏ô‡∏∑‡πâ‡∏≠‡∏´‡∏≤‡∏ö‡∏ó‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ó‡∏µ‡πà‡∏ô‡∏µ‡πà... (‡∏£‡∏≠‡∏á‡∏£‡∏±‡∏ö HTML ‡πÄ‡∏ö‡∏∑‡πâ‡∏≠‡∏á‡∏ï‡πâ‡∏ô)"></textarea>
                    </div>

                    <div>
                        <label class="block text-sm font-bold text-gray-700 mb-1">Image URL</label>
                        <div class="flex gap-2">
                            <input type="url" id="blog-image" placeholder="https://example.com/image.jpg" class="flex-grow bg-gray-50 border border-gray-200 rounded-xl p-3 focus:ring-2 focus:ring-cyan-500 outline-none transition">
                            <input type="text" id="blog-alt" placeholder="Image Alt Text (SEO)" class="w-1/3 bg-gray-50 border border-gray-200 rounded-xl p-3 focus:ring-2 focus:ring-cyan-500 outline-none transition text-sm" title="‡∏Ñ‡∏≥‡∏≠‡∏ò‡∏¥‡∏ö‡∏≤‡∏¢‡∏£‡∏π‡∏õ‡∏†‡∏≤‡∏û‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö Google">
                        </div>
                        <p class="text-xs text-gray-400 mt-1 ml-1">*Alt Text helps Google understand your image.</p>
                    </div>
                </div>

                <!-- SEO Section (New Feature) -->
                <div class="bg-gray-50 border border-gray-200 rounded-xl p-4 mt-4">
                    <h4 class="text-sm font-bold text-cyan-800 mb-3 flex items-center gap-2 border-b border-gray-200 pb-2">
                        <i class="ph-fill ph-magnifying-glass"></i> SEO Settings (‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤‡∏Å‡∏≤‡∏£‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤)
                    </h4>
                    
                    <div class="space-y-3">
                        <div>
                            <label class="block text-xs font-semibold text-gray-500 mb-1">URL Slug (Friendly URL)</label>
                            <div class="flex items-center bg-white border border-gray-200 rounded-lg px-3 py-2">
                                <span class="text-gray-400 text-xs mr-1">samuifixit.com/blog/</span>
                                <input type="text" id="blog-slug" placeholder="your-article-slug" class="flex-grow text-sm text-gray-600 outline-none font-mono">
                            </div>
                            <p class="text-[10px] text-gray-400 mt-1">Auto-generated from title. Keep it short and English only.</p>
                        </div>

                        <div>
                            <label class="block text-xs font-semibold text-gray-500 mb-1">Meta Description (150-160 chars)</label>
                            <textarea id="blog-meta-desc" rows="2" class="w-full bg-white border border-gray-200 rounded-lg p-2 text-sm focus:ring-1 focus:ring-cyan-500 outline-none" placeholder="‡∏Ñ‡∏≥‡∏≠‡∏ò‡∏¥‡∏ö‡∏≤‡∏¢‡∏ó‡∏µ‡πà‡∏à‡∏∞‡πÇ‡∏ä‡∏ß‡πå‡πÉ‡∏ô‡∏´‡∏ô‡πâ‡∏≤‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤ Google..."></textarea>
                        </div>

                        <div>
                            <label class="block text-xs font-semibold text-gray-500 mb-1">Focus Keywords (‡∏Ñ‡∏µ‡∏¢‡πå‡πÄ‡∏ß‡∏¥‡∏£‡πå‡∏î‡∏´‡∏•‡∏±‡∏Å)</label>
                            <input type="text" id="blog-keywords" placeholder="e.g. ‡∏ã‡πà‡∏≠‡∏°‡πÅ‡∏≠‡∏£‡πå‡∏™‡∏°‡∏∏‡∏¢, villa maintenance, pool cleaning" class="w-full bg-white border border-gray-200 rounded-lg p-2 text-sm focus:ring-1 focus:ring-cyan-500 outline-none">
                        </div>
                    </div>
                </div>

                <div class="flex gap-3 pt-2">
                    <button type="button" onclick="closeBlogModal()" class="w-1/3 bg-gray-100 hover:bg-gray-200 text-gray-600 font-bold py-3 rounded-xl transition">Cancel</button>
                    <button type="submit" id="blog-submit-btn" class="w-2/3 bg-gradient-to-r from-cyan-600 to-blue-600 hover:from-cyan-700 hover:to-blue-700 text-white font-bold py-3 rounded-xl transition shadow-lg flex justify-center items-center gap-2">
                        <i class="ph-bold ph-paper-plane-right"></i> Publish Article
                    </button>
                </div>
            </form>
        </div>
    </div>

    <!-- NEW: Blog Reader Modal -->
    <div id="blog-reader-modal" class="fixed inset-0 bg-black/60 z-[100] hidden flex items-center justify-center px-4 backdrop-blur-sm overflow-y-auto">
       <div class="bg-white rounded-3xl w-full max-w-3xl p-0 shadow-2xl transform scale-95 opacity-0 transition-all duration-300 my-8 flex flex-col max-h-[90vh] overflow-hidden" id="blog-reader-content">
          <!-- Content injected here -->
       </div>
    </div>

    <!-- Floating Buttons -->
    <div class="fixed bottom-6 right-6 z-[60] flex flex-col gap-3 group">
        <div class="absolute bottom-full right-0 mb-2 w-max bg-gray-800 text-white text-xs px-3 py-1 rounded-lg opacity-0 group-hover:opacity-100 transition-opacity duration-300 pointer-events-none">Chat with us!</div>
        <a href="https://line.me/ti/p/~samuifix" target="_blank" rel="noopener noreferrer" class="bg-[#06C755] hover:bg-[#05b34c] text-white w-14 h-14 rounded-full flex items-center justify-center shadow-lg shadow-green-500/30 transition-all transform hover:scale-110 hover:-translate-y-1" aria-label="Contact via Line"><svg viewBox="0 0 24 24" fill="currentColor" class="w-8 h-8"><path d="M21.35 9.87c0-4.63-4.5-8.4-10-8.4s-10 3.77-10 8.4c0 4.15 3.68 7.62 9.07 8.3.35.08.83.2.95.5.12.3.08.76-.08 1.34-.18.63-1.12 2.8-1.24 3.3-.1.52.28.52.72.28.58-.33 9.49-5.55 10.62-8.36 1.13-1.6 1.96-3.4 1.96-5.36z"/></svg></a>
        <a href="https://wa.me/66638419593" target="_blank" rel="noopener noreferrer" class="bg-[#25D366] hover:bg-[#20bd5a] text-white w-14 h-14 rounded-full flex items-center justify-center shadow-lg shadow-green-500/30 transition-all transform hover:scale-110 hover:-translate-y-1" aria-label="Contact via WhatsApp"><i class="ph-fill ph-whatsapp-logo text-3xl"></i></a>
    </div>

    <!-- Firebase SDK -->
    <script type="module">
        import { initializeApp } from "https://www.gstatic.com/firebasejs/11.6.1/firebase-app.js";
        import { getAuth, signInAnonymously, signInWithEmailAndPassword, signOut, onAuthStateChanged, signInWithCustomToken } from "https://www.gstatic.com/firebasejs/11.6.1/firebase-auth.js";
        import { getFirestore, collection, addDoc, onSnapshot, query, serverTimestamp, getDocs, setDoc, doc } from "https://www.gstatic.com/firebasejs/11.6.1/firebase-firestore.js";

        // --- 1. Firebase Config (‡∏≠‡∏±‡∏õ‡πÄ‡∏î‡∏ï‡∏Ñ‡πà‡∏≤‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì‡πÅ‡∏•‡πâ‡∏ß) ---
        const firebaseConfig = typeof __firebase_config !== 'undefined' ? JSON.parse(__firebase_config) : {
            apiKey: "AIzaSyBGtdUugvNWTjvcT8DL1EO0cn7q9YwChxk",
            authDomain: "samuifixgithubpage.firebaseapp.com",
            projectId: "samuifixgithubpage",
            storageBucket: "samuifixgithubpage.firebasestorage.app",
            messagingSenderId: "426648088200",
            appId: "1:426648088200:web:ade5bd023450d8ad79f93d"
        };

        // ‡πÉ‡∏ä‡πâ Project ID ‡πÄ‡∏õ‡πá‡∏ô‡∏ä‡∏∑‡πà‡∏≠ App ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÉ‡∏´‡πâ‡∏î‡∏π‡∏á‡πà‡∏≤‡∏¢‡πÉ‡∏ô Database
        const appId = typeof __app_id !== 'undefined' ? __app_id : 'samuifixgithubpage';

        const app = initializeApp(firebaseConfig);
        const auth = getAuth(app);
        const db = getFirestore(app);

        let currentUser = null;
        window.blogCache = {}; // Cache for blogs

        // --- 2. Auto Login ---
        async function initApp() {
            try {
                if (typeof __initial_auth_token !== 'undefined' && __initial_auth_token) {
                    await signInWithCustomToken(auth, __initial_auth_token);
                } else {
                    await signInAnonymously(auth);
                }
            } catch (error) {
                console.error("Auth Error:", error);
                // ‡πÅ‡∏™‡∏î‡∏á‡πÅ‡∏à‡πâ‡∏á‡πÄ‡∏ï‡∏∑‡∏≠‡∏ô‡∏ñ‡πâ‡∏≤‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏°‡∏ï‡πà‡∏≠‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ
                document.getElementById('user-status').innerText = "Connection Failed";
                document.getElementById('user-status').classList.add('text-red-500');
                
                // ‡πÅ‡∏à‡πâ‡∏á‡πÄ‡∏ï‡∏∑‡∏≠‡∏ô‡∏™‡∏≤‡πÄ‡∏´‡∏ï‡∏∏‡∏ó‡∏µ‡πà‡∏û‡∏ö‡∏ö‡πà‡∏≠‡∏¢
                if (error.code === 'auth/operation-not-allowed') {
                    alert("‚ö†Ô∏è ‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏°‡∏ï‡πà‡∏≠‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ: ‡∏Ñ‡∏∏‡∏ì‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ‡πÄ‡∏õ‡∏¥‡∏î‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô Anonymous Sign-in ‡πÉ‡∏ô Firebase Console\n\n‡∏ß‡∏¥‡∏ò‡∏µ‡πÅ‡∏Å‡πâ: ‡πÑ‡∏õ‡∏ó‡∏µ‡πà Authentication > Sign-in method > ‡πÄ‡∏õ‡∏¥‡∏î Anonymous");
                } else if (error.code === 'auth/unauthorized-domain') {
                    alert("‚ö†Ô∏è ‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏°‡∏ï‡πà‡∏≠‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ: ‡πÇ‡∏î‡πÄ‡∏°‡∏ô‡∏ô‡∏µ‡πâ‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ‡∏£‡∏±‡∏ö‡∏≠‡∏ô‡∏∏‡∏ç‡∏≤‡∏ï\n\n‡∏ß‡∏¥‡∏ò‡∏µ‡πÅ‡∏Å‡πâ: ‡πÑ‡∏õ‡∏ó‡∏µ‡πà Authentication > Settings > Authorized domains > ‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÇ‡∏î‡πÄ‡∏°‡∏ô‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì");
                } else {
                    alert("‚ö†Ô∏è ‡∏Å‡∏≤‡∏£‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏°‡∏ï‡πà‡∏≠‡∏•‡πâ‡∏°‡πÄ‡∏´‡∏•‡∏ß: " + error.message);
                }
            }
        }

        initApp();

        // Auth State Listener
        onAuthStateChanged(auth, (user) => {
            if (user) {
                currentUser = user;
                // Check if user is anonymous or admin (email)
                if (user.isAnonymous) {
                    document.getElementById('user-status').innerText = `ID: ${user.uid.substring(0, 5)}... (Guest)`;
                    document.getElementById('admin-logout').classList.add('hidden');
                } else {
                    // Admin Logged In
                    document.getElementById('user-status').innerText = `Admin: ${user.email} (Online)`;
                    document.getElementById('user-status').classList.remove('text-gray-500');
                    document.getElementById('user-status').classList.add('text-green-600', 'font-bold');
                    document.getElementById('admin-logout').classList.remove('hidden');
                }
                loadBookings(user.uid);
                loadBlogs(); // Load Blogs when connected
            } else {
                document.getElementById('user-status').innerText = "Disconnected";
            }
        });

        // --- Admin Login Functions ---
        window.openBlogModal = function() {
            if (!currentUser) return alert("System connecting...");

            // If user is anonymous, show Login Modal first
            if (currentUser.isAnonymous) {
                const modal = document.getElementById('admin-login-modal');
                const content = document.getElementById('admin-login-content');
                modal.classList.remove('hidden');
                setTimeout(() => {
                    content.classList.remove('scale-95', 'opacity-0');
                    content.classList.add('scale-100', 'opacity-100');
                }, 10);
            } else {
                // If already logged in as Admin, show Blog Form directly
                showBlogForm();
            }
        };

        window.closeAdminLoginModal = function() {
            const modal = document.getElementById('admin-login-modal');
            const content = document.getElementById('admin-login-content');
            content.classList.remove('scale-100', 'opacity-100');
            content.classList.add('scale-95', 'opacity-0');
            setTimeout(() => {
                modal.classList.add('hidden');
                document.getElementById('admin-login-form').reset();
            }, 300);
        };

        window.handleAdminLogin = async function(e) {
            e.preventDefault();
            const btn = document.getElementById('admin-login-btn');
            const email = document.getElementById('admin-email').value;
            const password = document.getElementById('admin-password').value;
            
            btn.innerHTML = "Verifying...";
            btn.disabled = true;

            try {
                await signInWithEmailAndPassword(auth, email, password);
                closeAdminLoginModal();
                showBlogForm(); // Open the blog form after successful login
            } catch (error) {
                console.error("Login failed:", error);
                alert("Login failed: " + error.message);
                btn.innerHTML = "Login";
                btn.disabled = false;
            }
        };

        window.logoutAdmin = async function() {
            if(confirm("Logout from Admin mode?")) {
                await signOut(auth);
                // Auth listener will handle re-login as anonymous
            }
        }

        // --- Blog Functions ---
        function showBlogForm() {
            const modal = document.getElementById('blog-modal');
            const content = document.getElementById('blog-modal-content');
            modal.classList.remove('hidden');
            setTimeout(() => {
                content.classList.remove('scale-95', 'opacity-0');
                content.classList.add('scale-100', 'opacity-100');
            }, 10);
        }

        window.closeBlogModal = function() {
            const modal = document.getElementById('blog-modal');
            const content = document.getElementById('blog-modal-content');
            content.classList.remove('scale-100', 'opacity-100');
            content.classList.add('scale-95', 'opacity-0');
            setTimeout(() => {
                modal.classList.add('hidden');
                document.getElementById('blog-form').reset();
            }, 300);
        }

        // --- Blog Reader Functions (New) ---
        // Moved from module script for availability
        
        // --- Booking & Data Loading ---
        function loadBookings(userId) {
            const listContainer = document.getElementById('booking-list');
            const bookingsRef = collection(db, 'artifacts', appId, 'users', userId, 'bookings');

            onSnapshot(bookingsRef, (snapshot) => {
                if (snapshot.empty) {
                    listContainer.innerHTML = `
                        <div class="rounded-xl p-8 text-center border-2 border-dashed border-gray-200">
                            <div class="inline-block p-4 rounded-full bg-blue-50 mb-3 text-blue-300 text-4xl">
                                <i class="ph-duotone ph-calendar-plus"></i>
                            </div>
                            <p class="text-gray-500 font-medium">No bookings yet / ‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏Å‡∏≤‡∏£‡∏à‡∏≠‡∏á</p>
                            <p class="text-sm text-gray-400 mb-4">Select a service above to start.</p>
                        </div>
                    `;
                    return;
                }

                let bookings = [];
                snapshot.forEach(doc => {
                    bookings.push({ id: doc.id, ...doc.data() });
                });

                bookings.sort((a, b) => (b.createdAt?.seconds || 0) - (a.createdAt?.seconds || 0));

                listContainer.innerHTML = bookings.map(booking => `
                    <div class="bg-white p-5 rounded-2xl shadow-sm border border-gray-100 flex flex-col md:flex-row justify-between items-center hover:shadow-md transition group">
                        <div class="flex items-center gap-4 w-full md:w-auto mb-3 md:mb-0">
                            <div class="bg-cyan-100 text-cyan-600 w-12 h-12 rounded-xl flex items-center justify-center text-2xl group-hover:bg-cyan-500 group-hover:text-white transition">
                                <i class="ph-fill ph-check-circle"></i>
                            </div>
                            <div>
                                <h4 class="font-bold text-gray-800 text-lg">${booking.serviceName}</h4>
                                <div class="flex items-center text-sm text-gray-500 gap-3 mt-1">
                                    <span class="flex items-center gap-1 bg-gray-100 px-2 py-0.5 rounded text-xs"><i class="ph-bold ph-calendar-blank"></i> ${booking.date}</span>
                                    <span class="flex items-center gap-1 bg-gray-100 px-2 py-0.5 rounded text-xs"><i class="ph-bold ph-clock"></i> ${booking.time}</span>
                                </div>
                            </div>
                        </div>
                        <div class="flex justify-between items-center w-full md:w-auto md:block text-right border-t md:border-t-0 pt-3 md:pt-0 border-gray-50 mt-1 md:mt-0 pl-0 md:pl-16">
                            <p class="text-xs text-gray-400 mb-1 truncate max-w-[150px] ml-auto" title="${booking.note || ''}">${booking.note || '-'}</p>
                            <div class="text-blue-600 font-bold text-lg">${booking.price}</div>
                            <span class="inline-block mt-1 bg-yellow-100 text-yellow-700 text-[10px] px-2 py-0.5 rounded-full font-bold uppercase tracking-wide">Pending</span>
                        </div>
                    </div>
                `).join('');
            }, (error) => {
                console.error("Error loading bookings:", error);
                // ‡πÄ‡∏ä‡πá‡∏Ñ‡∏ß‡πà‡∏≤‡πÄ‡∏õ‡πá‡∏ô error ‡πÄ‡∏£‡∏∑‡πà‡∏≠‡∏á permission ‡∏´‡∏£‡∏∑‡∏≠‡πÑ‡∏°‡πà
                if (error.code === 'permission-denied') {
                     listContainer.innerHTML = `<p class="text-red-500 text-center">Permission Denied: Please check Firestore Rules.</p>`;
                } else {
                     listContainer.innerHTML = `<p class="text-red-500 text-center">Error loading data</p>`;
                }
            });
        }

        // --- New: Load Blogs Logic ---
        function loadBlogs() {
            const blogContainer = document.getElementById('blog-list');
            // Public data path: /artifacts/{appId}/public/data/blogs
            const blogsRef = collection(db, 'artifacts', appId, 'public', 'data', 'blogs');

            onSnapshot(blogsRef, async (snapshot) => {
                if (snapshot.empty) {
                    // ‡∏ñ‡πâ‡∏≤‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏• ‡πÉ‡∏´‡πâ‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á (Seeding)
                    await seedBlogs(blogsRef);
                    return;
                }

                let blogs = [];
                snapshot.forEach(doc => {
                    const data = doc.data();
                    blogs.push({ id: doc.id, ...data });
                    window.blogCache[doc.id] = { id: doc.id, ...data }; // Store in cache
                });

                // ‡πÄ‡∏£‡∏µ‡∏¢‡∏á‡∏ï‡∏≤‡∏°‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà (‡∏ñ‡πâ‡∏≤‡∏°‡∏µ) ‡∏´‡∏£‡∏∑‡∏≠‡πÅ‡∏™‡∏î‡∏á‡∏ï‡∏≤‡∏°‡∏•‡∏≥‡∏î‡∏±‡∏ö
                blogContainer.innerHTML = blogs.map(blog => `
                    <article class="bg-white rounded-2xl shadow-lg overflow-hidden border border-gray-100 hover:shadow-xl transition-all duration-300 flex flex-col h-full group">
                        <div class="h-48 overflow-hidden relative">
                            <img src="${blog.image}" alt="${blog.title}" class="w-full h-full object-cover transform group-hover:scale-110 transition duration-500" onerror="this.onerror=null; this.src='https://placehold.co/600x400?text=Samui+Fixit';">
                            <div class="absolute top-4 right-4 bg-white/90 backdrop-blur-sm px-3 py-1 rounded-full text-xs font-bold text-cyan-600 shadow-sm">
                                ${blog.category || 'Tip'}
                            </div>
                        </div>
                        <div class="p-6 flex flex-col flex-grow">
                            <div class="flex items-center gap-2 text-xs text-gray-400 mb-3">
                                <i class="ph-fill ph-calendar"></i> ${blog.date}
                                <span>‚Ä¢</span>
                                <i class="ph-fill ph-user"></i> ${blog.author}
                            </div>
                            <h4 class="text-xl font-bold text-gray-800 mb-2 line-clamp-2 group-hover:text-cyan-600 transition">${blog.title}</h4>
                            <p class="text-sm text-gray-500 mb-4 line-clamp-3 flex-grow">${blog.excerpt}</p>
                            <a href="javascript:void(0)" onclick="openBlogReader('${blog.id}')" class="text-cyan-600 font-bold text-sm flex items-center gap-1 mt-auto hover:gap-2 transition-all">
                                Read More <i class="ph-bold ph-arrow-right"></i>
                            </a>
                        </div>
                    </article>
                `).join('');
            }, (error) => {
                console.error("Error loading blogs:", error);
                const blogContainer = document.getElementById('blog-list');
                // Don't show error to user for public blogs, just log it.
                if (error.code === 'permission-denied') {
                     // Maybe silent fail or show placeholder
                }
            });
        }

        // --- New: Seed Initial Blogs ---
        async function seedBlogs(blogsRef) {
            console.log("Seeding initial blogs...");
            const sampleBlogs = [
                {
                    title: "5 Tips to Protect Your Villa in Rainy Season",
                    excerpt: "‡∏´‡∏ô‡πâ‡∏≤‡∏ù‡∏ô‡πÄ‡∏Å‡∏≤‡∏∞‡∏™‡∏°‡∏∏‡∏¢‡∏ï‡πâ‡∏≠‡∏á‡∏£‡∏∞‡∏ß‡∏±‡∏á! ‡πÄ‡∏£‡∏µ‡∏¢‡∏ô‡∏£‡∏π‡πâ‡∏ß‡∏¥‡∏ò‡∏µ‡∏î‡∏π‡πÅ‡∏•‡∏£‡∏≤‡∏á‡∏ô‡πâ‡∏≥ ‡∏´‡∏•‡∏±‡∏á‡∏Ñ‡∏≤ ‡πÅ‡∏•‡∏∞‡∏™‡∏£‡∏∞‡∏ß‡πà‡∏≤‡∏¢‡∏ô‡πâ‡∏≥‡πÑ‡∏°‡πà‡πÉ‡∏´‡πâ‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ß‡∏Ç‡∏∏‡πà‡∏ô‡πÉ‡∏ô‡∏ä‡πà‡∏ß‡∏á‡∏°‡∏£‡∏™‡∏∏‡∏°",
                    content: "‡∏´‡∏ô‡πâ‡∏≤‡∏ù‡∏ô‡∏ö‡∏ô‡πÄ‡∏Å‡∏≤‡∏∞‡∏™‡∏°‡∏∏‡∏¢‡∏≠‡∏≤‡∏à‡∏ô‡∏≥‡∏°‡∏≤‡∏ã‡∏∂‡πà‡∏á‡∏õ‡∏±‡∏ç‡∏´‡∏≤‡∏ï‡πà‡∏≤‡∏á‡πÜ ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡πÄ‡∏à‡πâ‡∏≤‡∏Ç‡∏≠‡∏á‡∏ß‡∏¥‡∏•‡∏•‡πà‡∏≤\n\n1. ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏£‡∏≤‡∏á‡∏ô‡πâ‡∏≥‡∏ù‡∏ô: ‡πÉ‡∏ö‡πÑ‡∏°‡πâ‡∏≠‡∏≤‡∏à‡∏≠‡∏∏‡∏î‡∏ï‡∏±‡∏ô‡∏ó‡∏≥‡πÉ‡∏´‡πâ‡∏ô‡πâ‡∏≥‡∏•‡πâ‡∏ô\n2. ‡∏î‡∏π‡πÅ‡∏•‡∏™‡∏£‡∏∞‡∏ß‡πà‡∏≤‡∏¢‡∏ô‡πâ‡∏≥: ‡∏ù‡∏ô‡∏ó‡∏≥‡∏Ñ‡πà‡∏≤ pH ‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô ‡∏Ñ‡∏ß‡∏£‡∏ß‡∏±‡∏î‡∏Ñ‡πà‡∏≤‡∏ö‡πà‡∏≠‡∏¢‡∏Ç‡∏∂‡πâ‡∏ô\n3. ‡∏´‡∏•‡∏±‡∏á‡∏Ñ‡∏≤‡∏£‡∏±‡πà‡∏ß: ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏£‡∏≠‡∏¢‡πÅ‡∏ï‡∏Å‡∏£‡πâ‡∏≤‡∏ß‡∏Å‡πà‡∏≠‡∏ô‡∏°‡∏£‡∏™‡∏∏‡∏°‡∏°‡∏≤\n\n‡∏Å‡∏≤‡∏£‡∏î‡∏π‡πÅ‡∏•‡∏™‡∏°‡πà‡∏≥‡πÄ‡∏™‡∏°‡∏≠‡∏à‡∏∞‡∏ä‡πà‡∏ß‡∏¢‡∏õ‡∏£‡∏∞‡∏´‡∏¢‡∏±‡∏î‡∏Ñ‡πà‡∏≤‡∏ã‡πà‡∏≠‡∏°‡πÅ‡∏ã‡∏°‡πÉ‡∏ô‡∏£‡∏∞‡∏¢‡∏∞‡∏¢‡∏≤‡∏ß‡πÑ‡∏î‡πâ‡∏°‡∏≤‡∏Å‡∏Ñ‡∏£‡∏±‡∏ö.",
                    image: "https://images.unsplash.com/photo-1512917774080-9991f1c4c750?auto=format&fit=crop&w=800&q=80",
                    date: "12 Oct 2024",
                    author: "Admin Team",
                    category: "Maintenance"
                },
                {
                    title: "Why is my AC Leaking Water? (‡∏ó‡∏≥‡πÑ‡∏°‡πÅ‡∏≠‡∏£‡πå‡∏ô‡πâ‡∏≥‡∏´‡∏¢‡∏î)",
                    excerpt: "‡∏õ‡∏±‡∏ç‡∏´‡∏≤‡∏¢‡∏≠‡∏î‡∏Æ‡∏¥‡∏ï‡∏Ç‡∏≠‡∏á‡∏ö‡πâ‡∏≤‡∏ô‡∏û‡∏±‡∏Å‡∏ï‡∏≤‡∏Å‡∏≠‡∏≤‡∏Å‡∏≤‡∏® ‡∏™‡∏≤‡πÄ‡∏´‡∏ï‡∏∏‡∏´‡∏•‡∏±‡∏Å‡πÄ‡∏Å‡∏¥‡∏î‡∏à‡∏≤‡∏Å‡∏ó‡πà‡∏≠‡∏ô‡πâ‡∏≥‡∏ó‡∏¥‡πâ‡∏á‡∏ï‡∏±‡∏ô‡πÅ‡∏•‡∏∞‡∏ù‡∏∏‡πà‡∏ô‡∏™‡∏∞‡∏™‡∏° ‡∏ß‡∏¥‡∏ò‡∏µ‡πÅ‡∏Å‡πâ‡πÄ‡∏ö‡∏∑‡πâ‡∏≠‡∏á‡∏ï‡πâ‡∏ô‡∏ó‡∏≥‡∏≠‡∏¢‡πà‡∏≤‡∏á‡πÑ‡∏£?",
                    content: "‡πÅ‡∏≠‡∏£‡πå‡∏ô‡πâ‡∏≥‡∏´‡∏¢‡∏î‡πÄ‡∏õ‡πá‡∏ô‡∏õ‡∏±‡∏ç‡∏´‡∏≤‡∏Å‡∏ß‡∏ô‡πÉ‡∏à‡∏≠‡∏±‡∏ô‡∏î‡∏±‡∏ö‡∏´‡∏ô‡∏∂‡πà‡∏á ‡∏™‡∏≤‡πÄ‡∏´‡∏ï‡∏∏‡∏™‡πà‡∏ß‡∏ô‡πÉ‡∏´‡∏ç‡πà‡πÄ‡∏Å‡∏¥‡∏î‡∏à‡∏≤‡∏Å:\n- ‡∏ó‡πà‡∏≠‡∏ô‡πâ‡∏≥‡∏ó‡∏¥‡πâ‡∏á‡∏≠‡∏∏‡∏î‡∏ï‡∏±‡∏ô‡∏à‡∏≤‡∏Å‡πÄ‡∏°‡∏∑‡∏≠‡∏Å‡πÅ‡∏•‡∏∞‡∏ù‡∏∏‡πà‡∏ô\n- ‡πÅ‡∏ú‡πà‡∏ô‡∏Å‡∏£‡∏≠‡∏á‡∏≠‡∏≤‡∏Å‡∏≤‡∏®‡∏™‡∏Å‡∏õ‡∏£‡∏Å‡∏à‡∏ô‡∏•‡∏°‡∏ú‡πà‡∏≤‡∏ô‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ\n- ‡∏ñ‡∏≤‡∏î‡∏£‡∏≠‡∏á‡∏ô‡πâ‡∏≥‡∏ó‡∏¥‡πâ‡∏á‡πÄ‡∏≠‡∏µ‡∏¢‡∏á‡∏´‡∏£‡∏∑‡∏≠‡πÅ‡∏ï‡∏Å\n\n‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥‡πÉ‡∏´‡πâ‡∏•‡πâ‡∏≤‡∏á‡πÅ‡∏≠‡∏£‡πå‡πÉ‡∏´‡∏ç‡πà‡∏ó‡∏∏‡∏Å 6 ‡πÄ‡∏î‡∏∑‡∏≠‡∏ô‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏õ‡πâ‡∏≠‡∏á‡∏Å‡∏±‡∏ô‡∏õ‡∏±‡∏ç‡∏´‡∏≤‡∏ô‡∏µ‡πâ‡∏Ñ‡∏£‡∏±‡∏ö.",
                    image: "https://images.unsplash.com/photo-1616423664074-907f3533b680?auto=format&fit=crop&w=800&q=80",
                    date: "05 Nov 2024",
                    author: "Chief Technician",
                    category: "Repair Guide"
                },
                {
                    title: "Best Plants for Samui Tropical Garden",
                    excerpt: "‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥‡∏ï‡πâ‡∏ô‡πÑ‡∏°‡πâ‡∏ó‡∏ô‡πÅ‡∏î‡∏î ‡∏ó‡∏ô‡πÑ‡∏≠‡∏ó‡∏∞‡πÄ‡∏• ‡∏ó‡∏µ‡πà‡∏õ‡∏•‡∏π‡∏Å‡πÅ‡∏•‡πâ‡∏ß‡∏™‡∏ß‡∏¢ ‡∏î‡∏π‡πÅ‡∏•‡∏á‡πà‡∏≤‡∏¢ ‡πÄ‡∏´‡∏°‡∏≤‡∏∞‡∏Å‡∏±‡∏ö‡∏™‡∏†‡∏≤‡∏û‡∏≠‡∏≤‡∏Å‡∏≤‡∏®‡πÄ‡∏Å‡∏≤‡∏∞‡∏™‡∏°‡∏∏‡∏¢",
                    content: "‡πÄ‡∏Å‡∏≤‡∏∞‡∏™‡∏°‡∏∏‡∏¢‡∏°‡∏µ‡πÅ‡∏î‡∏î‡∏à‡∏±‡∏î‡πÅ‡∏•‡∏∞‡πÑ‡∏≠‡∏ó‡∏∞‡πÄ‡∏• ‡∏ï‡πâ‡∏ô‡πÑ‡∏°‡πâ‡∏ó‡∏µ‡πà‡πÄ‡∏´‡∏°‡∏≤‡∏∞‡∏Ñ‡∏ß‡∏£‡πÄ‡∏õ‡πá‡∏ô‡πÑ‡∏°‡πâ‡∏ó‡∏ô‡πÅ‡∏•‡πâ‡∏á‡πÅ‡∏•‡∏∞‡∏ó‡∏ô‡πÄ‡∏Ñ‡πá‡∏°‡πÑ‡∏î‡πâ‡∏î‡∏µ ‡πÄ‡∏ä‡πà‡∏ô:\n1. ‡∏•‡∏µ‡∏•‡∏≤‡∏ß‡∏î‡∏µ (Plumeria): ‡∏î‡∏≠‡∏Å‡∏´‡∏≠‡∏° ‡∏ó‡∏ô‡∏ó‡∏≤‡∏ô\n2. ‡∏´‡∏°‡∏≤‡∏Å‡πÄ‡∏´‡∏•‡∏∑‡∏≠‡∏á (Yellow Palm): ‡πÉ‡∏´‡πâ‡∏£‡πà‡∏°‡πÄ‡∏á‡∏≤ ‡∏î‡∏π‡πÅ‡∏•‡∏á‡πà‡∏≤‡∏¢\n3. ‡πÄ‡∏ü‡∏∑‡πà‡∏≠‡∏á‡∏ü‡πâ‡∏≤ (Bougainvillea): ‡∏™‡∏µ‡∏™‡∏±‡∏ô‡∏™‡∏î‡πÉ‡∏™ ‡∏ä‡∏≠‡∏ö‡πÅ‡∏î‡∏î‡∏à‡∏±‡∏î\n\n‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏ï‡πâ‡∏ô‡πÑ‡∏°‡πâ‡πÉ‡∏´‡πâ‡∏ñ‡∏π‡∏Å‡∏õ‡∏£‡∏∞‡πÄ‡∏†‡∏ó ‡∏à‡∏∞‡∏ä‡πà‡∏ß‡∏¢‡πÉ‡∏´‡πâ‡∏™‡∏ß‡∏ô‡∏™‡∏ß‡∏¢‡∏ï‡∏•‡∏≠‡∏î‡∏õ‡∏µ‡πÇ‡∏î‡∏¢‡πÑ‡∏°‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏î‡∏π‡πÅ‡∏•‡∏°‡∏≤‡∏Å‡∏Ñ‡∏£‡∏±‡∏ö.",
                    image: "https://images.unsplash.com/photo-1585320806297-9794b3e4eeae?auto=format&fit=crop&w=800&q=80",
                    date: "20 Dec 2024",
                    author: "Gardener Joy",
                    category: "Gardening"
                }
            ];

            try {
                for (let i = 0; i < sampleBlogs.length; i++) {
                    // Use setDoc with a specific ID to prevent duplicates if run multiple times
                    await setDoc(doc(blogsRef, `sample-post-${i}`), sampleBlogs[i]);
                }
            } catch (e) {
                console.error("Auto-seed failed (likely permission):", e);
                // Fallback: Display purely via JS if write permission is denied
                const blogContainer = document.getElementById('blog-list');
                blogContainer.innerHTML = sampleBlogs.map(blog => `
                    <article class="bg-white rounded-2xl shadow-lg overflow-hidden border border-gray-100 flex flex-col h-full">
                        <div class="h-48 overflow-hidden relative">
                            <img src="${blog.image}" class="w-full h-full object-cover">
                            <div class="absolute top-4 right-4 bg-white/90 px-3 py-1 rounded-full text-xs font-bold text-cyan-600">${blog.category}</div>
                        </div>
                        <div class="p-6">
                            <h4 class="text-xl font-bold text-gray-800 mb-2">${blog.title}</h4>
                            <p class="text-sm text-gray-500">${blog.excerpt}</p>
                        </div>
                    </article>
                `).join('');
            }
        }

        // --- New: Blog Submission Logic ---
        // Auto-generate slug from title
        window.generateSlug = function() {
            const title = document.getElementById('blog-title').value;
            const slug = title.toLowerCase()
                .replace(/[^a-z0-9‡∏Å-‡πô\s-]/g, '') // Remove special chars
                .replace(/\s+/g, '-')         // Replace spaces with -
                .replace(/-+/g, '-');         // Remove duplicate -
            document.getElementById('blog-slug').value = slug;
        };

        window.submitBlog = async (e) => {
            e.preventDefault();
            const btn = document.getElementById('blog-submit-btn');
            const originalBtnText = btn.innerHTML;
            btn.innerHTML = '<i class="ph-bold ph-spinner animate-spin"></i> Publishing...';
            btn.disabled = true;

            // Basic Info
            const title = document.getElementById('blog-title').value;
            const excerpt = document.getElementById('blog-excerpt').value;
            const content = document.getElementById('blog-content').value; // Get Full Content
            const author = document.getElementById('blog-author').value;
            const category = document.getElementById('blog-category').value;
            let image = document.getElementById('blog-image').value;
            
            // SEO Info
            const slug = document.getElementById('blog-slug').value;
            const metaDesc = document.getElementById('blog-meta-desc').value;
            const keywords = document.getElementById('blog-keywords').value;
            const imageAlt = document.getElementById('blog-alt').value;

            // Random image if empty
            if (!image) {
                // Using picsum instead of deprecated source.unsplash.com
                image = `https://picsum.photos/800/600?random=${Date.now()}`;
            }

            try {
                const blogsRef = collection(db, 'artifacts', appId, 'public', 'data', 'blogs');
                // Use slug as document ID if available for cleaner URLs later, or auto-ID
                await addDoc(blogsRef, {
                    title,
                    excerpt,
                    content, // Save Full Content
                    author,
                    category,
                    image,
                    // Store SEO Data
                    slug: slug || `post-${Date.now()}`,
                    metaDescription: metaDesc || excerpt, // Fallback to excerpt
                    keywords: keywords,
                    imageAlt: imageAlt || title,
                    date: new Date().toLocaleDateString('en-GB', { day: 'numeric', month: 'short', year: 'numeric' }),
                    createdAt: serverTimestamp()
                });
                
                alert("Article Posted Successfully! (SEO Data Saved)");
                closeBlogModal();
            } catch (error) {
                console.error("Error posting blog:", error);
                alert("Failed to post article. Please check your connection.");
            } finally {
                btn.innerHTML = originalBtnText;
                btn.disabled = false;
            }
        };

        // --- 4. Function to Send Line Notification via GAS ---
        async function sendLineNotification(data) {
            // ‡πÉ‡∏™‡πà GAS URL ‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì‡∏ó‡∏µ‡πà‡∏ô‡∏µ‡πà
            const GAS_SCRIPT_URL = 'https://script.google.com/macros/s/AKfycbw1SDBJXBg4vzk23dbeIVYKYiSCkardMDtwYloyFqafUUt-UTC8zX3AFvA9qDVbP5yE7g/exec'; 

            if (GAS_SCRIPT_URL === 'YOUR_DEPLOYED_GAS_WEB_APP_URL' || GAS_SCRIPT_URL === '') {
                console.warn("Skipping Line Notify: No GAS URL provided.");
                return;
            }

            try {
                // ‡πÉ‡∏ä‡πâ mode 'no-cors' ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏™‡πà‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏Ç‡πâ‡∏≤‡∏°‡πÇ‡∏î‡πÄ‡∏°‡∏ô‡πÇ‡∏î‡∏¢‡πÑ‡∏°‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏£‡∏≠ Response
                await fetch(GAS_SCRIPT_URL, {
                    method: 'POST',
                    mode: 'no-cors', 
                    headers: {
                        'Content-Type': 'application/json'
                    },
                    body: JSON.stringify(data)
                });
                console.log("Line notification sent (fire-and-forget)");
            } catch (error) {
                console.error("Error sending Line notification:", error);
            }
        }

        // --- 5. Submit Booking ---
        window.submitBooking = async (e) => {
            e.preventDefault();
            if (!currentUser) return alert('Connecting... please wait / ‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏£‡∏≠‡∏™‡∏±‡∏Å‡∏Ñ‡∏£‡∏π‡πà');

            const btn = document.getElementById('submit-btn');
            const originalText = btn.innerHTML;
            btn.innerHTML = `<i class="ph-bold ph-spinner animate-spin"></i> Sending...`;
            btn.disabled = true;

            try {
                // Gather all form data
                const serviceName = document.getElementById('service-name').value;
                const price = document.getElementById('service-price').value;
                const phone = document.getElementById('booking-phone').value;
                const social = document.getElementById('booking-social').value;
                const mapLink = document.getElementById('booking-map-link').value;
                const date = document.getElementById('booking-date').value;
                const time = document.getElementById('booking-time').value;
                const note = document.getElementById('booking-note').value;
                // Note: Image upload is UI-only for this demo due to Firestore constraints
                
                // 1. Save to Firebase (Database)
                await addDoc(collection(db, 'artifacts', appId, 'users', currentUser.uid, 'bookings'), {
                    serviceName,
                    price,
                    phone,
                    social,
                    mapLink,
                    date,
                    time,
                    note,
                    createdAt: serverTimestamp(),
                    status: 'pending'
                });

                // 2. Send Line Notification (Alert)
                const notifyData = {
                    serviceName, price, phone, social, mapLink, date, time, note
                };
                sendLineNotification(notifyData);

                closeBookingModal();
                alert('Booking Received! We will contact you shortly.\n‡πÑ‡∏î‡πâ‡∏£‡∏±‡∏ö‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÅ‡∏•‡πâ‡∏ß ‡∏ó‡∏µ‡∏°‡∏á‡∏≤‡∏ô‡∏à‡∏∞‡∏ï‡∏¥‡∏î‡∏ï‡πà‡∏≠‡∏Å‡∏•‡∏±‡∏ö‡πÄ‡∏£‡πá‡∏ß‡πÜ‡∏ô‡∏µ‡πâ‡∏Ñ‡∏£‡∏±‡∏ö');
                
            } catch (error) {
                console.error("Error adding booking:", error);
                if (error.code === 'permission-denied') {
                    alert('‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡πÑ‡∏°‡πà‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à: ‡∏™‡∏¥‡∏ó‡∏ò‡∏¥‡πå‡∏Å‡∏≤‡∏£‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ô‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ñ‡∏π‡∏Å‡∏õ‡∏è‡∏¥‡πÄ‡∏™‡∏ò (‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö Firestore Rules)');
                } else {
                    alert('Error booking service / ‡πÄ‡∏Å‡∏¥‡∏î‡∏Ç‡πâ‡∏≠‡∏ú‡∏¥‡∏î‡∏û‡∏•‡∏≤‡∏î');
                }
            } finally {
                btn.innerHTML = originalText;
                btn.disabled = false;
            }
        };
    </script>

    <!-- UI Scripts -->
    <script>
        // Toggle Mobile Menu
        function toggleMobileMenu() {
            const menu = document.getElementById('mobile-menu');
            menu.classList.toggle('hidden');
        }

        // Open Blog Modal
        function openBlogModal() {
            // If user is anonymous, show Login Modal first
            if (!currentUser || currentUser.isAnonymous) {
                const modal = document.getElementById('admin-login-modal');
                const content = document.getElementById('admin-login-content');
                modal.classList.remove('hidden');
                setTimeout(() => {
                    content.classList.remove('scale-95', 'opacity-0');
                    content.classList.add('scale-100', 'opacity-100');
                }, 10);
            } else {
                // If already logged in as Admin, show Blog Form directly
                showBlogForm();
            }
        }

        function closeBlogModal() {
            const modal = document.getElementById('blog-modal');
            const content = document.getElementById('blog-modal-content');
            content.classList.remove('scale-100', 'opacity-100');
            content.classList.add('scale-95', 'opacity-0');
            setTimeout(() => {
                modal.classList.add('hidden');
                document.getElementById('blog-form').reset();
            }, 300);
        }

        function closeAdminLoginModal() {
            const modal = document.getElementById('admin-login-modal');
            const content = document.getElementById('admin-login-content');
            content.classList.remove('scale-100', 'opacity-100');
            content.classList.add('scale-95', 'opacity-0');
            setTimeout(() => {
                modal.classList.add('hidden');
                document.getElementById('admin-login-form').reset();
            }, 300);
        }

        function openBlogReader(blogId) {
            const blog = window.blogCache[blogId];
            if (!blog) return;

            const modal = document.getElementById('blog-reader-modal');
            const content = document.getElementById('blog-reader-content');
            
            // Build content HTML
            content.innerHTML = `
                <div class="h-64 sm:h-80 w-full relative shrink-0">
                    <img src="${blog.image}" alt="${blog.title}" class="w-full h-full object-cover">
                    <div class="absolute top-4 left-4">
                        <button onclick="closeBlogReader()" class="bg-black/50 hover:bg-black/70 text-white p-2 rounded-full backdrop-blur-sm transition">
                            <i class="ph-bold ph-arrow-left text-xl"></i>
                        </button>
                    </div>
                    <div class="absolute bottom-0 left-0 right-0 bg-gradient-to-t from-black/80 to-transparent p-6 pt-20">
                        <span class="bg-cyan-600 text-white text-xs font-bold px-3 py-1 rounded-full mb-2 inline-block">${blog.category || 'Article'}</span>
                        <h2 class="text-2xl sm:text-3xl font-bold text-white leading-tight">${blog.title}</h2>
                        <div class="flex items-center gap-4 text-gray-300 text-sm mt-2">
                             <span class="flex items-center gap-1"><i class="ph-fill ph-user"></i> ${blog.author}</span>
                             <span class="flex items-center gap-1"><i class="ph-fill ph-calendar"></i> ${blog.date}</span>
                        </div>
                    </div>
                </div>
                <div class="p-6 sm:p-10 overflow-y-auto bg-white">
                    <div class="prose max-w-none text-gray-700 leading-relaxed space-y-4">
                         ${blog.content ? blog.content.replace(/\n/g, '<br>') : `<p class="text-lg font-medium text-gray-600">${blog.excerpt}</p><p class="text-gray-400 italic mt-8 text-center">... End of preview ...</p>`}
                    </div>
                    <div class="mt-10 pt-6 border-t border-gray-100 flex justify-between items-center">
                        <span class="text-xs text-gray-400">Share this article</span>
                        <div class="flex gap-3">
                             <button class="w-8 h-8 rounded-full bg-blue-100 text-blue-600 flex items-center justify-center hover:bg-blue-200"><i class="ph-fill ph-facebook-logo"></i></button>
                             <button class="w-8 h-8 rounded-full bg-green-100 text-green-600 flex items-center justify-center hover:bg-green-200"><i class="ph-fill ph-line-logo"></i></button>
                        </div>
                    </div>
                </div>
            `;

            modal.classList.remove('hidden');
            setTimeout(() => {
                content.classList.remove('scale-95', 'opacity-0');
                content.classList.add('scale-100', 'opacity-100');
            }, 10);
        }

        function closeBlogReader() {
            const modal = document.getElementById('blog-reader-modal');
            const content = document.getElementById('blog-reader-content');
            content.classList.remove('scale-100', 'opacity-100');
            content.classList.add('scale-95', 'opacity-0');
            setTimeout(() => {
                modal.classList.add('hidden');
                content.innerHTML = ''; // Clear content
            }, 300);
        }

        // --- Safe Event Listeners ---
        const addModalListener = (id, closeFunc) => {
            const modal = document.getElementById(id);
            if (modal) {
                modal.addEventListener('click', (e) => {
                    if (e.target.id === id) closeFunc();
                });
            }
        };

        addModalListener('booking-modal', closeBookingModal);
        addModalListener('blog-modal', closeBlogModal);
        addModalListener('admin-login-modal', closeAdminLoginModal);
        addModalListener('blog-reader-modal', closeBlogReader);

        // Data Dictionary for Service Terms
        const serviceDetails = {
            'pool': {
                name: '‡∏î‡∏π‡πÅ‡∏•‡∏™‡∏£‡∏∞‡∏ß‡πà‡∏≤‡∏¢‡∏ô‡πâ‡∏≥ (Pool Service)',
                terms: `
                    <div class="font-bold mb-1"><i class="ph-fill ph-info"></i> Terms & Conditions:</div>
                    <ul class="list-disc pl-4 space-y-1">
                        <li><strong>Deposit:</strong> 50% deposit required for first-time customers.</li>
                        <li><strong>Scope:</strong> Vacuuming, Brushing, Chemical balancing, Filter cleaning.</li>
                        <li><strong>Excludes:</strong> Green pool recovery (Extra charge applies).</li>
                        <li><strong>Note:</strong> Price includes standard chemicals.</li>
                    </ul>
                `
            },
            'ac': {
                name: '‡∏•‡πâ‡∏≤‡∏á‡πÅ‡∏≠‡∏£‡πå (AC Cleaning)',
                terms: `
                    <div class="font-bold mb-1"><i class="ph-fill ph-info"></i> Terms & Conditions:</div>
                    <ul class="list-disc pl-4 space-y-1">
                        <li><strong>Payment:</strong> Cash/Transfer after service completion.</li>
                        <li><strong>Scope:</strong> Indoor/Outdoor unit cleaning, Drain flushing.</li>
                        <li><strong>Excludes:</strong> Gas refill (Charged separately if needed).</li>
                        <li><strong>Warranty:</strong> 7-day warranty on water leaking after service.</li>
                    </ul>
                `
            },
            'clean': {
                name: '‡∏ó‡∏≥‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏∞‡∏≠‡∏≤‡∏î (Deep Clean)',
                terms: `
                    <div class="font-bold mb-1"><i class="ph-fill ph-info"></i> Terms & Conditions:</div>
                    <ul class="list-disc pl-4 space-y-1">
                        <li><strong>Deposit:</strong> 50% required to secure booking slot.</li>
                        <li><strong>Scope:</strong> Floors, Bathrooms, Kitchen, Accessible windows.</li>
                        <li><strong>Excludes:</strong> Sofa/Curtain shampoo, Moving heavy furniture (>20kg).</li>
                    </ul>
                `
            },
            'pest': {
                name: '‡∏Å‡∏≥‡∏à‡∏±‡∏î‡πÅ‡∏°‡∏•‡∏á (Pest Control)',
                terms: `
                    <div class="font-bold mb-1"><i class="ph-fill ph-info"></i> Terms & Conditions:</div>
                    <ul class="list-disc pl-4 space-y-1">
                        <li><strong>Payment:</strong> Upon arrival.</li>
                        <li><strong>Scope:</strong> Spraying for Ants, Roaches, Mosquitoes (Perimeter).</li>
                        <li><strong>Safety:</strong> Keep pets/kids away for 2 hours after service.</li>
                        <li><strong>Excludes:</strong> Termite drilling system (Different service).</li>
                    </ul>
                `
            },
            'garden': {
                name: '‡∏î‡∏π‡πÅ‡∏•‡∏™‡∏ß‡∏ô (Gardening)',
                terms: `
                    <div class="font-bold mb-1"><i class="ph-fill ph-info"></i> Terms & Conditions:</div>
                    <ul class="list-disc pl-4 space-y-1">
                        <li><strong>Rate:</strong> Hourly basis (Minimum 2 hours).</li>
                        <li><strong>Scope:</strong> Grass cutting, Trimming, Weeding, Watering.</li>
                        <li><strong>Excludes:</strong> Tree removal (Height > 3m), Large waste disposal fee.</li>
                    </ul>
                `
            },
            'handyman': {
                name: '‡∏ã‡πà‡∏≠‡∏°‡∏£‡∏∞‡∏ö‡∏ö‡∏ô‡πâ‡∏≥-‡πÑ‡∏ü (Handyman)',
                terms: `
                    <div class="font-bold mb-1"><i class="ph-fill ph-info"></i> Terms & Conditions:</div>
                    <ul class="list-disc pl-4 space-y-1">
                        <li><strong>Rate:</strong> Starts at 500‡∏ø (Includes transport + 30 min inspection).</li>
                        <li><strong>Scope:</strong> Diagnosis & Minor repairs (Leaks, Bulbs, Switches).</li>
                        <li><strong>Note:</strong> Spare parts are charged separately.</li>
                    </ul>
                `
            },
            // Fallback for construction and packages
            'construction': { name: 'Construction (‡∏£‡∏±‡∏ö‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏ö‡πâ‡∏≤‡∏ô)', terms: '' },
            'renovation': { name: 'Renovation (‡∏á‡∏≤‡∏ô‡∏£‡∏µ‡πÇ‡∏ô‡πÄ‡∏ß‡∏ó)', terms: '' },
            'extension': { name: 'Extension (‡∏á‡∏≤‡∏ô‡∏ï‡πà‡∏≠‡πÄ‡∏ï‡∏¥‡∏°)', terms: '' },
            'pack_basic': { name: 'Package: Garden & Pool (Basic)', terms: '' },
            'pack_standard': { name: 'Package: Cleaning (Standard)', terms: '' },
            'pack_elite': { name: 'Package: Full Service (Elite)', terms: '' }
        };

        function openBookingModal(serviceKey, price) {
            const modal = document.getElementById('booking-modal');
            const content = document.getElementById('modal-content');
            const termsBox = document.getElementById('service-terms');
            
            // Check if serviceKey exists in our dictionary
            if (serviceDetails[serviceKey]) {
                document.getElementById('service-name').value = serviceDetails[serviceKey].name;
                if (serviceDetails[serviceKey].terms) {
                    termsBox.innerHTML = serviceDetails[serviceKey].terms;
                    termsBox.classList.remove('hidden');
                } else {
                    termsBox.classList.add('hidden');
                }
            } else {
                // Fallback if key not found (should not happen with correct setup)
                document.getElementById('service-name').value = serviceKey; 
                termsBox.classList.add('hidden');
            }
            
            // Handle numeric vs string price
            if (typeof price === 'number') {
                 document.getElementById('service-price').value = "‡∏ø" + price.toLocaleString();
            } else {
                 document.getElementById('service-price').value = price;
            }
           
            const tomorrow = new Date();
            tomorrow.setDate(tomorrow.getDate() + 1);
            document.getElementById('booking-date').valueAsDate = tomorrow;
            
            modal.classList.remove('hidden');
            setTimeout(() => {
                content.classList.remove('scale-95', 'opacity-0');
                content.classList.add('scale-100', 'opacity-100');
            }, 10);
        }

        function closeBookingModal() {
            const modal = document.getElementById('booking-modal');
            const content = document.getElementById('modal-content');
            
            content.classList.remove('scale-100', 'opacity-100');
            content.classList.add('scale-95', 'opacity-0');
            
            setTimeout(() => {
                modal.classList.add('hidden');
                document.getElementById('booking-form').reset();
                document.getElementById('service-terms').classList.add('hidden');
                // Reset photo preview
                document.getElementById('photo-preview').classList.add('hidden');
                document.getElementById('photo-placeholder').classList.remove('hidden');
            }, 300);
        }

        // GPS Location Function
        function getCurrentLocation() {
            if (navigator.geolocation) {
                const btn = document.querySelector('button[onclick="getCurrentLocation()"]');
                const originalText = btn.innerHTML;
                btn.innerHTML = '<i class="ph-bold ph-spinner animate-spin"></i>';
                
                navigator.geolocation.getCurrentPosition(position => {
                    const link = `https://www.google.com/maps?q=${position.coords.latitude},${position.coords.longitude}`;
                    document.getElementById('booking-map-link').value = link;
                    btn.innerHTML = originalText;
                }, (error) => {
                    alert("Unable to retrieve location. Please allow GPS access.");
                    btn.innerHTML = originalText;
                });
            } else {
                alert("Geolocation is not supported by this browser.");
            }
        }

        // Photo Preview Function
        window.handleFileSelect = function(input) {
            if (input.files && input.files[0]) {
                var reader = new FileReader();
                reader.onload = function(e) {
                    document.getElementById('preview-img').src = e.target.result;
                    document.getElementById('photo-preview').classList.remove('hidden');
                    document.getElementById('photo-placeholder').classList.add('hidden');
                }
                reader.readAsDataURL(input.files[0]);
            }
        }

        document.getElementById('booking-modal').addEventListener('click', (e) => {
            if (e.target.id === 'booking-modal') closeBookingModal();
        });
    </script>
</body>
</html>
